/*! For license information please see internal-apis.umd.min.js.LICENSE.txt */
(()=>{var t={758:(t,e,r)=>{"use strict";t.exports=r(512)},512:t=>{"use strict";var e=function(t){if(t=t||{},this.Promise=t.Promise||Promise,this.queues=Object.create(null),this.domainReentrant=t.domainReentrant||!1,this.domainReentrant){if("undefined"==typeof process||void 0===process.domain)throw new Error("Domain-reentrant locks require `process.domain` to exist. Please flip `opts.domainReentrant = false`, use a NodeJS version that still implements Domain, or install a browser polyfill.");this.domains=Object.create(null)}this.timeout=t.timeout||e.DEFAULT_TIMEOUT,t.maxPending===1/0||Number.isInteger(t.maxPending)&&t.maxPending>=0?this.maxPending=t.maxPending:this.maxPending=e.DEFAULT_MAX_PENDING};e.DEFAULT_TIMEOUT=0,e.DEFAULT_MAX_PENDING=1e3,e.prototype.acquire=function(t,e,r,n){if(Array.isArray(t))return this._acquireBatch(t,e,r,n);if("function"!=typeof e)throw new Error("You must pass a function to execute");var i=null,s=null,a=null;"function"!=typeof r&&(n=r,r=null,a=new this.Promise((function(t,e){i=t,s=e}))),n=n||{};var o=!1,c=null,f=this,l=function(e,n,c){e&&(0===f.queues[t].length&&delete f.queues[t],f.domainReentrant&&delete f.domains[t]),o||(a?n?s(n):i(c):"function"==typeof r&&r(n,c),o=!0),e&&f.queues[t]&&f.queues[t].length>0&&f.queues[t].shift()()},h=function(r){if(o)return l(r);if(c&&(clearTimeout(c),c=null),f.domainReentrant&&r&&(f.domains[t]=process.domain),1===e.length){var n=!1;e((function(t,e){n||(n=!0,l(r,t,e))}))}else f._promiseTry((function(){return e()})).then((function(t){l(r,void 0,t)}),(function(t){l(r,t)}))};if(f.domainReentrant&&process.domain&&(h=process.domain.bind(h)),f.queues[t])if(f.domainReentrant&&process.domain&&process.domain===f.domains[t])h(!1);else if(f.queues[t].length>=f.maxPending)l(!1,new Error("Too much pending tasks"));else{var u=function(){h(!0)};n.skipQueue?f.queues[t].unshift(u):f.queues[t].push(u);var d=n.timeout||f.timeout;d&&(c=setTimeout((function(){c=null,l(!1,new Error("async-lock timed out"))}),d))}else f.queues[t]=[],h(!0);return a||void 0},e.prototype._acquireBatch=function(t,e,r,n){"function"!=typeof r&&(n=r,r=null);var i=this,s=e;if(t.reverse().forEach((function(t){s=function(t,e){return function(r){i.acquire(t,e,r,n)}}(t,s)})),"function"!=typeof r)return new this.Promise((function(t,e){1===s.length?s((function(r,n){r?e(r):t(n)})):t(s())}));s(r)},e.prototype.isBusy=function(t){return t?!!this.queues[t]:Object.keys(this.queues).length>0},e.prototype._promiseTry=function(t){try{return this.Promise.resolve(t())}catch(t){return this.Promise.reject(t)}},t.exports=e},742:(t,e)=>{"use strict";e.byteLength=function(t){var e=c(t),r=e[0],n=e[1];return 3*(r+n)/4-n},e.toByteArray=function(t){var e,r,s=c(t),a=s[0],o=s[1],f=new i(function(t,e,r){return 3*(e+r)/4-r}(0,a,o)),l=0,h=o>0?a-4:a;for(r=0;r<h;r+=4)e=n[t.charCodeAt(r)]<<18|n[t.charCodeAt(r+1)]<<12|n[t.charCodeAt(r+2)]<<6|n[t.charCodeAt(r+3)],f[l++]=e>>16&255,f[l++]=e>>8&255,f[l++]=255&e;2===o&&(e=n[t.charCodeAt(r)]<<2|n[t.charCodeAt(r+1)]>>4,f[l++]=255&e);1===o&&(e=n[t.charCodeAt(r)]<<10|n[t.charCodeAt(r+1)]<<4|n[t.charCodeAt(r+2)]>>2,f[l++]=e>>8&255,f[l++]=255&e);return f},e.fromByteArray=function(t){for(var e,n=t.length,i=n%3,s=[],a=16383,o=0,c=n-i;o<c;o+=a)s.push(f(t,o,o+a>c?c:o+a));1===i?(e=t[n-1],s.push(r[e>>2]+r[e<<4&63]+"==")):2===i&&(e=(t[n-2]<<8)+t[n-1],s.push(r[e>>10]+r[e>>4&63]+r[e<<2&63]+"="));return s.join("")};for(var r=[],n=[],i="undefined"!=typeof Uint8Array?Uint8Array:Array,s="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",a=0,o=s.length;a<o;++a)r[a]=s[a],n[s.charCodeAt(a)]=a;function c(t){var e=t.length;if(e%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var r=t.indexOf("=");return-1===r&&(r=e),[r,r===e?0:4-r%4]}function f(t,e,n){for(var i,s,a=[],o=e;o<n;o+=3)i=(t[o]<<16&16711680)+(t[o+1]<<8&65280)+(255&t[o+2]),a.push(r[(s=i)>>18&63]+r[s>>12&63]+r[s>>6&63]+r[63&s]);return a.join("")}n["-".charCodeAt(0)]=62,n["_".charCodeAt(0)]=63},764:(t,e,r)=>{"use strict";var n=r(742),i=r(645),s="function"==typeof Symbol&&"function"==typeof Symbol.for?Symbol.for("nodejs.util.inspect.custom"):null;e.Buffer=c,e.SlowBuffer=function(t){+t!=t&&(t=0);return c.alloc(+t)},e.INSPECT_MAX_BYTES=50;var a=2147483647;function o(t){if(t>a)throw new RangeError('The value "'+t+'" is invalid for option "size"');var e=new Uint8Array(t);return Object.setPrototypeOf(e,c.prototype),e}function c(t,e,r){if("number"==typeof t){if("string"==typeof e)throw new TypeError('The "string" argument must be of type string. Received type number');return h(t)}return f(t,e,r)}function f(t,e,r){if("string"==typeof t)return function(t,e){"string"==typeof e&&""!==e||(e="utf8");if(!c.isEncoding(e))throw new TypeError("Unknown encoding: "+e);var r=0|g(t,e),n=o(r),i=n.write(t,e);i!==r&&(n=n.slice(0,i));return n}(t,e);if(ArrayBuffer.isView(t))return function(t){if(L(t,Uint8Array)){var e=new Uint8Array(t);return d(e.buffer,e.byteOffset,e.byteLength)}return u(t)}(t);if(null==t)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof t);if(L(t,ArrayBuffer)||t&&L(t.buffer,ArrayBuffer))return d(t,e,r);if("undefined"!=typeof SharedArrayBuffer&&(L(t,SharedArrayBuffer)||t&&L(t.buffer,SharedArrayBuffer)))return d(t,e,r);if("number"==typeof t)throw new TypeError('The "value" argument must not be of type number. Received type number');var n=t.valueOf&&t.valueOf();if(null!=n&&n!==t)return c.from(n,e,r);var i=function(t){if(c.isBuffer(t)){var e=0|p(t.length),r=o(e);return 0===r.length||t.copy(r,0,0,e),r}if(void 0!==t.length)return"number"!=typeof t.length||F(t.length)?o(0):u(t);if("Buffer"===t.type&&Array.isArray(t.data))return u(t.data)}(t);if(i)return i;if("undefined"!=typeof Symbol&&null!=Symbol.toPrimitive&&"function"==typeof t[Symbol.toPrimitive])return c.from(t[Symbol.toPrimitive]("string"),e,r);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof t)}function l(t){if("number"!=typeof t)throw new TypeError('"size" argument must be of type number');if(t<0)throw new RangeError('The value "'+t+'" is invalid for option "size"')}function h(t){return l(t),o(t<0?0:0|p(t))}function u(t){for(var e=t.length<0?0:0|p(t.length),r=o(e),n=0;n<e;n+=1)r[n]=255&t[n];return r}function d(t,e,r){if(e<0||t.byteLength<e)throw new RangeError('"offset" is outside of buffer bounds');if(t.byteLength<e+(r||0))throw new RangeError('"length" is outside of buffer bounds');var n;return n=void 0===e&&void 0===r?new Uint8Array(t):void 0===r?new Uint8Array(t,e):new Uint8Array(t,e,r),Object.setPrototypeOf(n,c.prototype),n}function p(t){if(t>=a)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+a.toString(16)+" bytes");return 0|t}function g(t,e){if(c.isBuffer(t))return t.length;if(ArrayBuffer.isView(t)||L(t,ArrayBuffer))return t.byteLength;if("string"!=typeof t)throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof t);var r=t.length,n=arguments.length>2&&!0===arguments[2];if(!n&&0===r)return 0;for(var i=!1;;)switch(e){case"ascii":case"latin1":case"binary":return r;case"utf8":case"utf-8":return N(t).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*r;case"hex":return r>>>1;case"base64":return M(t).length;default:if(i)return n?-1:N(t).length;e=(""+e).toLowerCase(),i=!0}}function m(t,e,r){var n=!1;if((void 0===e||e<0)&&(e=0),e>this.length)return"";if((void 0===r||r>this.length)&&(r=this.length),r<=0)return"";if((r>>>=0)<=(e>>>=0))return"";for(t||(t="utf8");;)switch(t){case"hex":return R(this,e,r);case"utf8":case"utf-8":return S(this,e,r);case"ascii":return $(this,e,r);case"latin1":case"binary":return U(this,e,r);case"base64":return A(this,e,r);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return I(this,e,r);default:if(n)throw new TypeError("Unknown encoding: "+t);t=(t+"").toLowerCase(),n=!0}}function w(t,e,r){var n=t[e];t[e]=t[r],t[r]=n}function _(t,e,r,n,i){if(0===t.length)return-1;if("string"==typeof r?(n=r,r=0):r>2147483647?r=2147483647:r<-2147483648&&(r=-2147483648),F(r=+r)&&(r=i?0:t.length-1),r<0&&(r=t.length+r),r>=t.length){if(i)return-1;r=t.length-1}else if(r<0){if(!i)return-1;r=0}if("string"==typeof e&&(e=c.from(e,n)),c.isBuffer(e))return 0===e.length?-1:y(t,e,r,n,i);if("number"==typeof e)return e&=255,"function"==typeof Uint8Array.prototype.indexOf?i?Uint8Array.prototype.indexOf.call(t,e,r):Uint8Array.prototype.lastIndexOf.call(t,e,r):y(t,[e],r,n,i);throw new TypeError("val must be string, number or Buffer")}function y(t,e,r,n,i){var s,a=1,o=t.length,c=e.length;if(void 0!==n&&("ucs2"===(n=String(n).toLowerCase())||"ucs-2"===n||"utf16le"===n||"utf-16le"===n)){if(t.length<2||e.length<2)return-1;a=2,o/=2,c/=2,r/=2}function f(t,e){return 1===a?t[e]:t.readUInt16BE(e*a)}if(i){var l=-1;for(s=r;s<o;s++)if(f(t,s)===f(e,-1===l?0:s-l)){if(-1===l&&(l=s),s-l+1===c)return l*a}else-1!==l&&(s-=s-l),l=-1}else for(r+c>o&&(r=o-c),s=r;s>=0;s--){for(var h=!0,u=0;u<c;u++)if(f(t,s+u)!==f(e,u)){h=!1;break}if(h)return s}return-1}function b(t,e,r,n){r=Number(r)||0;var i=t.length-r;n?(n=Number(n))>i&&(n=i):n=i;var s=e.length;n>s/2&&(n=s/2);for(var a=0;a<n;++a){var o=parseInt(e.substr(2*a,2),16);if(F(o))return a;t[r+a]=o}return a}function v(t,e,r,n){return D(N(e,t.length-r),t,r,n)}function k(t,e,r,n){return D(function(t){for(var e=[],r=0;r<t.length;++r)e.push(255&t.charCodeAt(r));return e}(e),t,r,n)}function x(t,e,r,n){return D(M(e),t,r,n)}function E(t,e,r,n){return D(function(t,e){for(var r,n,i,s=[],a=0;a<t.length&&!((e-=2)<0);++a)n=(r=t.charCodeAt(a))>>8,i=r%256,s.push(i),s.push(n);return s}(e,t.length-r),t,r,n)}function A(t,e,r){return 0===e&&r===t.length?n.fromByteArray(t):n.fromByteArray(t.slice(e,r))}function S(t,e,r){r=Math.min(t.length,r);for(var n=[],i=e;i<r;){var s,a,o,c,f=t[i],l=null,h=f>239?4:f>223?3:f>191?2:1;if(i+h<=r)switch(h){case 1:f<128&&(l=f);break;case 2:128==(192&(s=t[i+1]))&&(c=(31&f)<<6|63&s)>127&&(l=c);break;case 3:s=t[i+1],a=t[i+2],128==(192&s)&&128==(192&a)&&(c=(15&f)<<12|(63&s)<<6|63&a)>2047&&(c<55296||c>57343)&&(l=c);break;case 4:s=t[i+1],a=t[i+2],o=t[i+3],128==(192&s)&&128==(192&a)&&128==(192&o)&&(c=(15&f)<<18|(63&s)<<12|(63&a)<<6|63&o)>65535&&c<1114112&&(l=c)}null===l?(l=65533,h=1):l>65535&&(l-=65536,n.push(l>>>10&1023|55296),l=56320|1023&l),n.push(l),i+=h}return function(t){var e=t.length;if(e<=B)return String.fromCharCode.apply(String,t);var r="",n=0;for(;n<e;)r+=String.fromCharCode.apply(String,t.slice(n,n+=B));return r}(n)}e.kMaxLength=a,c.TYPED_ARRAY_SUPPORT=function(){try{var t=new Uint8Array(1),e={foo:function(){return 42}};return Object.setPrototypeOf(e,Uint8Array.prototype),Object.setPrototypeOf(t,e),42===t.foo()}catch(t){return!1}}(),c.TYPED_ARRAY_SUPPORT||"undefined"==typeof console||"function"!=typeof console.error||console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support."),Object.defineProperty(c.prototype,"parent",{enumerable:!0,get:function(){if(c.isBuffer(this))return this.buffer}}),Object.defineProperty(c.prototype,"offset",{enumerable:!0,get:function(){if(c.isBuffer(this))return this.byteOffset}}),c.poolSize=8192,c.from=function(t,e,r){return f(t,e,r)},Object.setPrototypeOf(c.prototype,Uint8Array.prototype),Object.setPrototypeOf(c,Uint8Array),c.alloc=function(t,e,r){return function(t,e,r){return l(t),t<=0?o(t):void 0!==e?"string"==typeof r?o(t).fill(e,r):o(t).fill(e):o(t)}(t,e,r)},c.allocUnsafe=function(t){return h(t)},c.allocUnsafeSlow=function(t){return h(t)},c.isBuffer=function(t){return null!=t&&!0===t._isBuffer&&t!==c.prototype},c.compare=function(t,e){if(L(t,Uint8Array)&&(t=c.from(t,t.offset,t.byteLength)),L(e,Uint8Array)&&(e=c.from(e,e.offset,e.byteLength)),!c.isBuffer(t)||!c.isBuffer(e))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(t===e)return 0;for(var r=t.length,n=e.length,i=0,s=Math.min(r,n);i<s;++i)if(t[i]!==e[i]){r=t[i],n=e[i];break}return r<n?-1:n<r?1:0},c.isEncoding=function(t){switch(String(t).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},c.concat=function(t,e){if(!Array.isArray(t))throw new TypeError('"list" argument must be an Array of Buffers');if(0===t.length)return c.alloc(0);var r;if(void 0===e)for(e=0,r=0;r<t.length;++r)e+=t[r].length;var n=c.allocUnsafe(e),i=0;for(r=0;r<t.length;++r){var s=t[r];if(L(s,Uint8Array))i+s.length>n.length?c.from(s).copy(n,i):Uint8Array.prototype.set.call(n,s,i);else{if(!c.isBuffer(s))throw new TypeError('"list" argument must be an Array of Buffers');s.copy(n,i)}i+=s.length}return n},c.byteLength=g,c.prototype._isBuffer=!0,c.prototype.swap16=function(){var t=this.length;if(t%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var e=0;e<t;e+=2)w(this,e,e+1);return this},c.prototype.swap32=function(){var t=this.length;if(t%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var e=0;e<t;e+=4)w(this,e,e+3),w(this,e+1,e+2);return this},c.prototype.swap64=function(){var t=this.length;if(t%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var e=0;e<t;e+=8)w(this,e,e+7),w(this,e+1,e+6),w(this,e+2,e+5),w(this,e+3,e+4);return this},c.prototype.toString=function(){var t=this.length;return 0===t?"":0===arguments.length?S(this,0,t):m.apply(this,arguments)},c.prototype.toLocaleString=c.prototype.toString,c.prototype.equals=function(t){if(!c.isBuffer(t))throw new TypeError("Argument must be a Buffer");return this===t||0===c.compare(this,t)},c.prototype.inspect=function(){var t="",r=e.INSPECT_MAX_BYTES;return t=this.toString("hex",0,r).replace(/(.{2})/g,"$1 ").trim(),this.length>r&&(t+=" ... "),"<Buffer "+t+">"},s&&(c.prototype[s]=c.prototype.inspect),c.prototype.compare=function(t,e,r,n,i){if(L(t,Uint8Array)&&(t=c.from(t,t.offset,t.byteLength)),!c.isBuffer(t))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof t);if(void 0===e&&(e=0),void 0===r&&(r=t?t.length:0),void 0===n&&(n=0),void 0===i&&(i=this.length),e<0||r>t.length||n<0||i>this.length)throw new RangeError("out of range index");if(n>=i&&e>=r)return 0;if(n>=i)return-1;if(e>=r)return 1;if(this===t)return 0;for(var s=(i>>>=0)-(n>>>=0),a=(r>>>=0)-(e>>>=0),o=Math.min(s,a),f=this.slice(n,i),l=t.slice(e,r),h=0;h<o;++h)if(f[h]!==l[h]){s=f[h],a=l[h];break}return s<a?-1:a<s?1:0},c.prototype.includes=function(t,e,r){return-1!==this.indexOf(t,e,r)},c.prototype.indexOf=function(t,e,r){return _(this,t,e,r,!0)},c.prototype.lastIndexOf=function(t,e,r){return _(this,t,e,r,!1)},c.prototype.write=function(t,e,r,n){if(void 0===e)n="utf8",r=this.length,e=0;else if(void 0===r&&"string"==typeof e)n=e,r=this.length,e=0;else{if(!isFinite(e))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");e>>>=0,isFinite(r)?(r>>>=0,void 0===n&&(n="utf8")):(n=r,r=void 0)}var i=this.length-e;if((void 0===r||r>i)&&(r=i),t.length>0&&(r<0||e<0)||e>this.length)throw new RangeError("Attempt to write outside buffer bounds");n||(n="utf8");for(var s=!1;;)switch(n){case"hex":return b(this,t,e,r);case"utf8":case"utf-8":return v(this,t,e,r);case"ascii":case"latin1":case"binary":return k(this,t,e,r);case"base64":return x(this,t,e,r);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return E(this,t,e,r);default:if(s)throw new TypeError("Unknown encoding: "+n);n=(""+n).toLowerCase(),s=!0}},c.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};var B=4096;function $(t,e,r){var n="";r=Math.min(t.length,r);for(var i=e;i<r;++i)n+=String.fromCharCode(127&t[i]);return n}function U(t,e,r){var n="";r=Math.min(t.length,r);for(var i=e;i<r;++i)n+=String.fromCharCode(t[i]);return n}function R(t,e,r){var n=t.length;(!e||e<0)&&(e=0),(!r||r<0||r>n)&&(r=n);for(var i="",s=e;s<r;++s)i+=Z[t[s]];return i}function I(t,e,r){for(var n=t.slice(e,r),i="",s=0;s<n.length-1;s+=2)i+=String.fromCharCode(n[s]+256*n[s+1]);return i}function O(t,e,r){if(t%1!=0||t<0)throw new RangeError("offset is not uint");if(t+e>r)throw new RangeError("Trying to access beyond buffer length")}function C(t,e,r,n,i,s){if(!c.isBuffer(t))throw new TypeError('"buffer" argument must be a Buffer instance');if(e>i||e<s)throw new RangeError('"value" argument is out of bounds');if(r+n>t.length)throw new RangeError("Index out of range")}function z(t,e,r,n,i,s){if(r+n>t.length)throw new RangeError("Index out of range");if(r<0)throw new RangeError("Index out of range")}function T(t,e,r,n,s){return e=+e,r>>>=0,s||z(t,0,r,4),i.write(t,e,r,n,23,4),r+4}function P(t,e,r,n,s){return e=+e,r>>>=0,s||z(t,0,r,8),i.write(t,e,r,n,52,8),r+8}c.prototype.slice=function(t,e){var r=this.length;(t=~~t)<0?(t+=r)<0&&(t=0):t>r&&(t=r),(e=void 0===e?r:~~e)<0?(e+=r)<0&&(e=0):e>r&&(e=r),e<t&&(e=t);var n=this.subarray(t,e);return Object.setPrototypeOf(n,c.prototype),n},c.prototype.readUintLE=c.prototype.readUIntLE=function(t,e,r){t>>>=0,e>>>=0,r||O(t,e,this.length);for(var n=this[t],i=1,s=0;++s<e&&(i*=256);)n+=this[t+s]*i;return n},c.prototype.readUintBE=c.prototype.readUIntBE=function(t,e,r){t>>>=0,e>>>=0,r||O(t,e,this.length);for(var n=this[t+--e],i=1;e>0&&(i*=256);)n+=this[t+--e]*i;return n},c.prototype.readUint8=c.prototype.readUInt8=function(t,e){return t>>>=0,e||O(t,1,this.length),this[t]},c.prototype.readUint16LE=c.prototype.readUInt16LE=function(t,e){return t>>>=0,e||O(t,2,this.length),this[t]|this[t+1]<<8},c.prototype.readUint16BE=c.prototype.readUInt16BE=function(t,e){return t>>>=0,e||O(t,2,this.length),this[t]<<8|this[t+1]},c.prototype.readUint32LE=c.prototype.readUInt32LE=function(t,e){return t>>>=0,e||O(t,4,this.length),(this[t]|this[t+1]<<8|this[t+2]<<16)+16777216*this[t+3]},c.prototype.readUint32BE=c.prototype.readUInt32BE=function(t,e){return t>>>=0,e||O(t,4,this.length),16777216*this[t]+(this[t+1]<<16|this[t+2]<<8|this[t+3])},c.prototype.readIntLE=function(t,e,r){t>>>=0,e>>>=0,r||O(t,e,this.length);for(var n=this[t],i=1,s=0;++s<e&&(i*=256);)n+=this[t+s]*i;return n>=(i*=128)&&(n-=Math.pow(2,8*e)),n},c.prototype.readIntBE=function(t,e,r){t>>>=0,e>>>=0,r||O(t,e,this.length);for(var n=e,i=1,s=this[t+--n];n>0&&(i*=256);)s+=this[t+--n]*i;return s>=(i*=128)&&(s-=Math.pow(2,8*e)),s},c.prototype.readInt8=function(t,e){return t>>>=0,e||O(t,1,this.length),128&this[t]?-1*(255-this[t]+1):this[t]},c.prototype.readInt16LE=function(t,e){t>>>=0,e||O(t,2,this.length);var r=this[t]|this[t+1]<<8;return 32768&r?4294901760|r:r},c.prototype.readInt16BE=function(t,e){t>>>=0,e||O(t,2,this.length);var r=this[t+1]|this[t]<<8;return 32768&r?4294901760|r:r},c.prototype.readInt32LE=function(t,e){return t>>>=0,e||O(t,4,this.length),this[t]|this[t+1]<<8|this[t+2]<<16|this[t+3]<<24},c.prototype.readInt32BE=function(t,e){return t>>>=0,e||O(t,4,this.length),this[t]<<24|this[t+1]<<16|this[t+2]<<8|this[t+3]},c.prototype.readFloatLE=function(t,e){return t>>>=0,e||O(t,4,this.length),i.read(this,t,!0,23,4)},c.prototype.readFloatBE=function(t,e){return t>>>=0,e||O(t,4,this.length),i.read(this,t,!1,23,4)},c.prototype.readDoubleLE=function(t,e){return t>>>=0,e||O(t,8,this.length),i.read(this,t,!0,52,8)},c.prototype.readDoubleBE=function(t,e){return t>>>=0,e||O(t,8,this.length),i.read(this,t,!1,52,8)},c.prototype.writeUintLE=c.prototype.writeUIntLE=function(t,e,r,n){(t=+t,e>>>=0,r>>>=0,n)||C(this,t,e,r,Math.pow(2,8*r)-1,0);var i=1,s=0;for(this[e]=255&t;++s<r&&(i*=256);)this[e+s]=t/i&255;return e+r},c.prototype.writeUintBE=c.prototype.writeUIntBE=function(t,e,r,n){(t=+t,e>>>=0,r>>>=0,n)||C(this,t,e,r,Math.pow(2,8*r)-1,0);var i=r-1,s=1;for(this[e+i]=255&t;--i>=0&&(s*=256);)this[e+i]=t/s&255;return e+r},c.prototype.writeUint8=c.prototype.writeUInt8=function(t,e,r){return t=+t,e>>>=0,r||C(this,t,e,1,255,0),this[e]=255&t,e+1},c.prototype.writeUint16LE=c.prototype.writeUInt16LE=function(t,e,r){return t=+t,e>>>=0,r||C(this,t,e,2,65535,0),this[e]=255&t,this[e+1]=t>>>8,e+2},c.prototype.writeUint16BE=c.prototype.writeUInt16BE=function(t,e,r){return t=+t,e>>>=0,r||C(this,t,e,2,65535,0),this[e]=t>>>8,this[e+1]=255&t,e+2},c.prototype.writeUint32LE=c.prototype.writeUInt32LE=function(t,e,r){return t=+t,e>>>=0,r||C(this,t,e,4,4294967295,0),this[e+3]=t>>>24,this[e+2]=t>>>16,this[e+1]=t>>>8,this[e]=255&t,e+4},c.prototype.writeUint32BE=c.prototype.writeUInt32BE=function(t,e,r){return t=+t,e>>>=0,r||C(this,t,e,4,4294967295,0),this[e]=t>>>24,this[e+1]=t>>>16,this[e+2]=t>>>8,this[e+3]=255&t,e+4},c.prototype.writeIntLE=function(t,e,r,n){if(t=+t,e>>>=0,!n){var i=Math.pow(2,8*r-1);C(this,t,e,r,i-1,-i)}var s=0,a=1,o=0;for(this[e]=255&t;++s<r&&(a*=256);)t<0&&0===o&&0!==this[e+s-1]&&(o=1),this[e+s]=(t/a>>0)-o&255;return e+r},c.prototype.writeIntBE=function(t,e,r,n){if(t=+t,e>>>=0,!n){var i=Math.pow(2,8*r-1);C(this,t,e,r,i-1,-i)}var s=r-1,a=1,o=0;for(this[e+s]=255&t;--s>=0&&(a*=256);)t<0&&0===o&&0!==this[e+s+1]&&(o=1),this[e+s]=(t/a>>0)-o&255;return e+r},c.prototype.writeInt8=function(t,e,r){return t=+t,e>>>=0,r||C(this,t,e,1,127,-128),t<0&&(t=255+t+1),this[e]=255&t,e+1},c.prototype.writeInt16LE=function(t,e,r){return t=+t,e>>>=0,r||C(this,t,e,2,32767,-32768),this[e]=255&t,this[e+1]=t>>>8,e+2},c.prototype.writeInt16BE=function(t,e,r){return t=+t,e>>>=0,r||C(this,t,e,2,32767,-32768),this[e]=t>>>8,this[e+1]=255&t,e+2},c.prototype.writeInt32LE=function(t,e,r){return t=+t,e>>>=0,r||C(this,t,e,4,2147483647,-2147483648),this[e]=255&t,this[e+1]=t>>>8,this[e+2]=t>>>16,this[e+3]=t>>>24,e+4},c.prototype.writeInt32BE=function(t,e,r){return t=+t,e>>>=0,r||C(this,t,e,4,2147483647,-2147483648),t<0&&(t=4294967295+t+1),this[e]=t>>>24,this[e+1]=t>>>16,this[e+2]=t>>>8,this[e+3]=255&t,e+4},c.prototype.writeFloatLE=function(t,e,r){return T(this,t,e,!0,r)},c.prototype.writeFloatBE=function(t,e,r){return T(this,t,e,!1,r)},c.prototype.writeDoubleLE=function(t,e,r){return P(this,t,e,!0,r)},c.prototype.writeDoubleBE=function(t,e,r){return P(this,t,e,!1,r)},c.prototype.copy=function(t,e,r,n){if(!c.isBuffer(t))throw new TypeError("argument should be a Buffer");if(r||(r=0),n||0===n||(n=this.length),e>=t.length&&(e=t.length),e||(e=0),n>0&&n<r&&(n=r),n===r)return 0;if(0===t.length||0===this.length)return 0;if(e<0)throw new RangeError("targetStart out of bounds");if(r<0||r>=this.length)throw new RangeError("Index out of range");if(n<0)throw new RangeError("sourceEnd out of bounds");n>this.length&&(n=this.length),t.length-e<n-r&&(n=t.length-e+r);var i=n-r;return this===t&&"function"==typeof Uint8Array.prototype.copyWithin?this.copyWithin(e,r,n):Uint8Array.prototype.set.call(t,this.subarray(r,n),e),i},c.prototype.fill=function(t,e,r,n){if("string"==typeof t){if("string"==typeof e?(n=e,e=0,r=this.length):"string"==typeof r&&(n=r,r=this.length),void 0!==n&&"string"!=typeof n)throw new TypeError("encoding must be a string");if("string"==typeof n&&!c.isEncoding(n))throw new TypeError("Unknown encoding: "+n);if(1===t.length){var i=t.charCodeAt(0);("utf8"===n&&i<128||"latin1"===n)&&(t=i)}}else"number"==typeof t?t&=255:"boolean"==typeof t&&(t=Number(t));if(e<0||this.length<e||this.length<r)throw new RangeError("Out of range index");if(r<=e)return this;var s;if(e>>>=0,r=void 0===r?this.length:r>>>0,t||(t=0),"number"==typeof t)for(s=e;s<r;++s)this[s]=t;else{var a=c.isBuffer(t)?t:c.from(t,n),o=a.length;if(0===o)throw new TypeError('The value "'+t+'" is invalid for argument "value"');for(s=0;s<r-e;++s)this[s+e]=a[s%o]}return this};var j=/[^+/0-9A-Za-z-_]/g;function N(t,e){var r;e=e||1/0;for(var n=t.length,i=null,s=[],a=0;a<n;++a){if((r=t.charCodeAt(a))>55295&&r<57344){if(!i){if(r>56319){(e-=3)>-1&&s.push(239,191,189);continue}if(a+1===n){(e-=3)>-1&&s.push(239,191,189);continue}i=r;continue}if(r<56320){(e-=3)>-1&&s.push(239,191,189),i=r;continue}r=65536+(i-55296<<10|r-56320)}else i&&(e-=3)>-1&&s.push(239,191,189);if(i=null,r<128){if((e-=1)<0)break;s.push(r)}else if(r<2048){if((e-=2)<0)break;s.push(r>>6|192,63&r|128)}else if(r<65536){if((e-=3)<0)break;s.push(r>>12|224,r>>6&63|128,63&r|128)}else{if(!(r<1114112))throw new Error("Invalid code point");if((e-=4)<0)break;s.push(r>>18|240,r>>12&63|128,r>>6&63|128,63&r|128)}}return s}function M(t){return n.toByteArray(function(t){if((t=(t=t.split("=")[0]).trim().replace(j,"")).length<2)return"";for(;t.length%4!=0;)t+="=";return t}(t))}function D(t,e,r,n){for(var i=0;i<n&&!(i+r>=e.length||i>=t.length);++i)e[i+r]=t[i];return i}function L(t,e){return t instanceof e||null!=t&&null!=t.constructor&&null!=t.constructor.name&&t.constructor.name===e.name}function F(t){return t!=t}var Z=function(){for(var t="0123456789abcdef",e=new Array(256),r=0;r<16;++r)for(var n=16*r,i=0;i<16;++i)e[n+i]=t[r]+t[i];return e}()},606:(t,e)=>{var r;r=function(t){t.version="1.2.0";var e=function(){for(var t=0,e=new Array(256),r=0;256!=r;++r)t=1&(t=1&(t=1&(t=1&(t=1&(t=1&(t=1&(t=1&(t=r)?-306674912^t>>>1:t>>>1)?-306674912^t>>>1:t>>>1)?-306674912^t>>>1:t>>>1)?-306674912^t>>>1:t>>>1)?-306674912^t>>>1:t>>>1)?-306674912^t>>>1:t>>>1)?-306674912^t>>>1:t>>>1)?-306674912^t>>>1:t>>>1,e[r]=t;return"undefined"!=typeof Int32Array?new Int32Array(e):e}();t.table=e,t.bstr=function(t,r){for(var n=-1^r,i=t.length-1,s=0;s<i;)n=(n=n>>>8^e[255&(n^t.charCodeAt(s++))])>>>8^e[255&(n^t.charCodeAt(s++))];return s===i&&(n=n>>>8^e[255&(n^t.charCodeAt(s))]),-1^n},t.buf=function(t,r){if(t.length>1e4)return function(t,r){for(var n=-1^r,i=t.length-7,s=0;s<i;)n=(n=(n=(n=(n=(n=(n=(n=n>>>8^e[255&(n^t[s++])])>>>8^e[255&(n^t[s++])])>>>8^e[255&(n^t[s++])])>>>8^e[255&(n^t[s++])])>>>8^e[255&(n^t[s++])])>>>8^e[255&(n^t[s++])])>>>8^e[255&(n^t[s++])])>>>8^e[255&(n^t[s++])];for(;s<i+7;)n=n>>>8^e[255&(n^t[s++])];return-1^n}(t,r);for(var n=-1^r,i=t.length-3,s=0;s<i;)n=(n=(n=(n=n>>>8^e[255&(n^t[s++])])>>>8^e[255&(n^t[s++])])>>>8^e[255&(n^t[s++])])>>>8^e[255&(n^t[s++])];for(;s<i+3;)n=n>>>8^e[255&(n^t[s++])];return-1^n},t.str=function(t,r){for(var n,i,s=-1^r,a=0,o=t.length;a<o;)(n=t.charCodeAt(a++))<128?s=s>>>8^e[255&(s^n)]:n<2048?s=(s=s>>>8^e[255&(s^(192|n>>6&31))])>>>8^e[255&(s^(128|63&n))]:n>=55296&&n<57344?(n=64+(1023&n),i=1023&t.charCodeAt(a++),s=(s=(s=(s=s>>>8^e[255&(s^(240|n>>8&7))])>>>8^e[255&(s^(128|n>>2&63))])>>>8^e[255&(s^(128|i>>6&15|(3&n)<<4))])>>>8^e[255&(s^(128|63&i))]):s=(s=(s=s>>>8^e[255&(s^(224|n>>12&15))])>>>8^e[255&(s^(128|n>>6&63))])>>>8^e[255&(s^(128|63&n))];return-1^s}},"undefined"==typeof DO_NOT_EXPORT_CRC?r(e):r({})},27:(t,e,r)=>{var n=r(375);function i(t,e){for(var r=[],i=t.length,s=e.length,a=function(t,e){var r=new n(t,e);r.compose();for(var i,s,a=r.getses(),o=t.length-1,c=e.length-1,f=a.length-1;f>=0;--f)a[f].t===r.SES_COMMON?(s?(s.chain={file1index:o,file2index:c,chain:null},s=s.chain):s=i={file1index:o,file2index:c,chain:null},o--,c--):a[f].t===r.SES_DELETE?o--:a[f].t===r.SES_ADD&&c--;var l={file1index:-1,file2index:-1,chain:null};return s?(s.chain=l,i):l}(t,e);null!==a;a=a.chain){var o=i-a.file1index-1,c=s-a.file2index-1;i=a.file1index,s=a.file2index,(o||c)&&r.push({file1:[i+1,o],file2:[s+1,c]})}return r.reverse(),r}t.exports=function(t,e,r){var n=[],s=[t,e,r],a=function(t,e,r){var n,s=i(e,t),a=i(e,r),o=[];function c(t,e){o.push([t.file1[0],e,t.file1[1],t.file2[0],t.file2[1]])}for(n=0;n<s.length;n++)c(s[n],0);for(n=0;n<a.length;n++)c(a[n],2);o.sort((function(t,e){return t[0]-e[0]}));var f=[],l=0;function h(t){t>l&&(f.push([1,l,t-l]),l=t)}for(var u=0;u<o.length;u++){for(var d=u,p=o[u],g=p[0],m=g+p[2];u<o.length-1;){var w=o[u+1],_=w[0];if(_>m)break;m=Math.max(m,_+w[2]),u++}if(h(g),d==u)p[4]>0&&f.push([p[1],p[3],p[4]]);else{var y={0:[t.length,-1,e.length,-1],2:[r.length,-1,e.length,-1]};for(n=d;n<=u;n++){var b=y[(p=o[n])[1]],v=p[0],k=v+p[2],x=p[3],E=x+p[4];b[0]=Math.min(x,b[0]),b[1]=Math.max(E,b[1]),b[2]=Math.min(v,b[2]),b[3]=Math.max(k,b[3])}var A=y[0][0]+(g-y[0][2]),S=y[0][1]+(m-y[0][3]),B=y[2][0]+(g-y[2][2]),$=y[2][1]+(m-y[2][3]);f.push([-1,A,S-A,g,m-g,B,$-B])}l=m}return h(e.length),f}(t,e,r),o=[];function c(){o.length&&n.push({ok:o}),o=[]}function f(t){for(var e=0;e<t.length;e++)o.push(t[e])}function l(e){if(e[2]!=e[6])return!0;for(var n=e[1],i=e[5],s=0;s<e[2];s++)if(t[s+n]!=r[s+i])return!0;return!1}for(var h=0;h<a.length;h++){var u=a[h],d=u[0];-1==d?l(u)?(c(),n.push({conflict:{a:t.slice(u[1],u[1]+u[2]),aIndex:u[1],o:e.slice(u[3],u[3]+u[4]),oIndex:u[3],b:r.slice(u[5],u[5]+u[6]),bIndex:u[5]}})):f(s[0].slice(u[1],u[1]+u[2])):f(s[d].slice(u[1],u[1]+u[2]))}return c(),n}},375:t=>{t.exports=function(t,e){var r,n,i=t,s=e,a=i.length,o=s.length,c=!1,f=null,l=a+1,h=[],u=[],d=[],p="",g=function(t,e,r){return{x:t,y:e,k:r}},m=function(t,e){return{elem:t,t:e}},w=function(t,e,r){var n,c,f;for(n=e>r?h[t-1+l]:h[t+1+l],c=(f=Math.max(e,r))-t;c<a&&f<o&&i[c]===s[f];)++c,++f;return h[t+l]=u.length,u[u.length]=new g(c,f,n),f};return a>=o&&(r=i,n=a,i=s,s=r,a=o,o=n,c=!0,l=a+1),{SES_DELETE:-1,SES_COMMON:0,SES_ADD:1,editdistance:function(){return f},getlcs:function(){return p},getses:function(){return d},compose:function(){var t,e,r,n,_,y,b,v;for(t=o-a,e=a+o+3,r={},b=0;b<e;++b)r[b]=-1,h[b]=-1;n=-1;do{for(v=-++n;v<=t-1;++v)r[v+l]=w(v,r[v-1+l]+1,r[v+1+l]);for(v=t+n;v>=t+1;--v)r[v+l]=w(v,r[v-1+l]+1,r[v+1+l]);r[t+l]=w(t,r[t-1+l]+1,r[t+1+l])}while(r[t+l]!==o);for(f=t+2*n,_=h[t+l],y=[];-1!==_;)y[y.length]=new g(u[_].x,u[_].y,null),_=u[_].k;!function(t){var e,r,n;for(e=r=0,n=t.length-1;n>=0;--n)for(;e<t[n].x||r<t[n].y;)t[n].y-t[n].x>r-e?(d[d.length]=new m(s[r],c?-1:1),++r):t[n].y-t[n].x<r-e?(d[d.length]=new m(i[e],c?1:-1),++e):(d[d.length]=new m(i[e],0),p+=i[e],++e,++r)}(y)}}}},645:(t,e)=>{e.read=function(t,e,r,n,i){var s,a,o=8*i-n-1,c=(1<<o)-1,f=c>>1,l=-7,h=r?i-1:0,u=r?-1:1,d=t[e+h];for(h+=u,s=d&(1<<-l)-1,d>>=-l,l+=o;l>0;s=256*s+t[e+h],h+=u,l-=8);for(a=s&(1<<-l)-1,s>>=-l,l+=n;l>0;a=256*a+t[e+h],h+=u,l-=8);if(0===s)s=1-f;else{if(s===c)return a?NaN:1/0*(d?-1:1);a+=Math.pow(2,n),s-=f}return(d?-1:1)*a*Math.pow(2,s-n)},e.write=function(t,e,r,n,i,s){var a,o,c,f=8*s-i-1,l=(1<<f)-1,h=l>>1,u=23===i?Math.pow(2,-24)-Math.pow(2,-77):0,d=n?0:s-1,p=n?1:-1,g=e<0||0===e&&1/e<0?1:0;for(e=Math.abs(e),isNaN(e)||e===1/0?(o=isNaN(e)?1:0,a=l):(a=Math.floor(Math.log(e)/Math.LN2),e*(c=Math.pow(2,-a))<1&&(a--,c*=2),(e+=a+h>=1?u/c:u*Math.pow(2,1-h))*c>=2&&(a++,c/=2),a+h>=l?(o=0,a=l):a+h>=1?(o=(e*c-1)*Math.pow(2,i),a+=h):(o=e*Math.pow(2,h-1)*Math.pow(2,i),a=0));i>=8;t[r+d]=255&o,d+=p,o/=256,i-=8);for(a=a<<i|o,f+=i;f>0;t[r+d]=255&a,d+=p,a/=256,f-=8);t[r+d-p]|=128*g}},151:t=>{function e(t){return Array.isArray(t)?t:[t]}const r=/^\s+$/,n=/^\\!/,i=/^\\#/,s=/\r?\n/g,a=/^\.*\/|^\.+$/,o="undefined"!=typeof Symbol?Symbol.for("node-ignore"):"node-ignore",c=/([0-z])-([0-z])/g,f=[[/\\?\s+$/,t=>0===t.indexOf("\\")?" ":""],[/\\\s/g,()=>" "],[/[\\$.|*+(){^]/g,t=>`\\${t}`],[/(?!\\)\?/g,()=>"[^/]"],[/^\//,()=>"^"],[/\//g,()=>"\\/"],[/^\^*\\\*\\\*\\\//,()=>"^(?:.*\\/)?"],[/^(?=[^^])/,function(){return/\/(?!$)/.test(this)?"^":"(?:^|\\/)"}],[/\\\/\\\*\\\*(?=\\\/|$)/g,(t,e,r)=>e+6<r.length?"(?:\\/[^\\/]+)*":"\\/.+"],[/(^|[^\\]+)\\\*(?=.+)/g,(t,e)=>`${e}[^\\/]*`],[/\\\\\\(?=[$.|*+(){^])/g,()=>"\\"],[/\\\\/g,()=>"\\"],[/(\\)?\[([^\]/]*?)(\\*)($|\])/g,(t,e,r,n,i)=>"\\"===e?`\\[${r}${(t=>{const{length:e}=t;return t.slice(0,e-e%2)})(n)}${i}`:"]"===i&&n.length%2==0?`[${(t=>t.replace(c,((t,e,r)=>e.charCodeAt(0)<=r.charCodeAt(0)?t:"")))(r)}${n}]`:"[]"],[/(?:[^*])$/,t=>/\/$/.test(t)?`${t}$`:`${t}(?=$|\\/$)`],[/(\^|\\\/)?\\\*$/,(t,e)=>`${e?`${e}[^/]+`:"[^/]*"}(?=$|\\/$)`]],l=Object.create(null),h=t=>"string"==typeof t;class u{constructor(t,e,r,n){this.origin=t,this.pattern=e,this.negative=r,this.regex=n}}const d=(t,e)=>{const r=t;let s=!1;0===t.indexOf("!")&&(s=!0,t=t.substr(1));const a=((t,e,r)=>{const n=l[t];if(n)return n;const i=f.reduce(((e,r)=>e.replace(r[0],r[1].bind(t))),t);return l[t]=r?new RegExp(i,"i"):new RegExp(i)})(t=t.replace(n,"!").replace(i,"#"),0,e);return new u(r,t,s,a)},p=(t,e)=>{throw new e(t)},g=(t,e,r)=>{if(!h(t))return r(`path must be a string, but got \`${e}\``,TypeError);if(!t)return r("path must not be empty",TypeError);if(g.isNotRelative(t)){return r(`path should be a ${"`path.relative()`d"} string, but got "${e}"`,RangeError)}return!0},m=t=>a.test(t);g.isNotRelative=m,g.convert=t=>t;class w{constructor({ignorecase:t=!0}={}){var e,r,n;this._rules=[],this._ignorecase=t,e=this,r=o,n=!0,Object.defineProperty(e,r,{value:n}),this._initCache()}_initCache(){this._ignoreCache=Object.create(null),this._testCache=Object.create(null)}_addPattern(t){if(t&&t[o])return this._rules=this._rules.concat(t._rules),void(this._added=!0);if((t=>t&&h(t)&&!r.test(t)&&0!==t.indexOf("#"))(t)){const e=d(t,this._ignorecase);this._added=!0,this._rules.push(e)}}add(t){return this._added=!1,e(h(t)?(t=>t.split(s))(t):t).forEach(this._addPattern,this),this._added&&this._initCache(),this}addPattern(t){return this.add(t)}_testOne(t,e){let r=!1,n=!1;return this._rules.forEach((i=>{const{negative:s}=i;if(n===s&&r!==n||s&&!r&&!n&&!e)return;i.regex.test(t)&&(r=!s,n=s)})),{ignored:r,unignored:n}}_test(t,e,r,n){const i=t&&g.convert(t);return g(i,t,p),this._t(i,e,r,n)}_t(t,e,r,n){if(t in e)return e[t];if(n||(n=t.split("/")),n.pop(),!n.length)return e[t]=this._testOne(t,r);const i=this._t(n.join("/")+"/",e,r,n);return e[t]=i.ignored?i:this._testOne(t,r)}ignores(t){return this._test(t,this._ignoreCache,!1).ignored}createFilter(){return t=>!this.ignores(t)}filter(t){return e(t).filter(this.createFilter())}test(t){return this._test(t,this._testCache,!0)}}const _=t=>new w(t),y=()=>!1;if(_.isPathValid=t=>g(t&&g.convert(t),t,y),_.default=_,t.exports=_,"undefined"!=typeof process&&(process.env&&process.env.IGNORE_TEST_WIN32||"win32"===process.platform)){const t=t=>/^\\\\\?\\/.test(t)||/["<>|\u0000-\u001F]+/u.test(t)?t:t.replace(/\\/g,"/");g.convert=t;const e=/^[a-z]:\//i;g.isNotRelative=t=>e.test(t)||m(t)}},717:t=>{"function"==typeof Object.create?t.exports=function(t,e){e&&(t.super_=e,t.prototype=Object.create(e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}))}:t.exports=function(t,e){if(e){t.super_=e;var r=function(){};r.prototype=e.prototype,t.prototype=new r,t.prototype.constructor=t}}},470:t=>{"use strict";function e(t){if("string"!=typeof t)throw new TypeError("Path must be a string. Received "+JSON.stringify(t))}function r(t,e){for(var r,n="",i=0,s=-1,a=0,o=0;o<=t.length;++o){if(o<t.length)r=t.charCodeAt(o);else{if(47===r)break;r=47}if(47===r){if(s===o-1||1===a);else if(s!==o-1&&2===a){if(n.length<2||2!==i||46!==n.charCodeAt(n.length-1)||46!==n.charCodeAt(n.length-2))if(n.length>2){var c=n.lastIndexOf("/");if(c!==n.length-1){-1===c?(n="",i=0):i=(n=n.slice(0,c)).length-1-n.lastIndexOf("/"),s=o,a=0;continue}}else if(2===n.length||1===n.length){n="",i=0,s=o,a=0;continue}e&&(n.length>0?n+="/..":n="..",i=2)}else n.length>0?n+="/"+t.slice(s+1,o):n=t.slice(s+1,o),i=o-s-1;s=o,a=0}else 46===r&&-1!==a?++a:a=-1}return n}var n={resolve:function(){for(var t,n="",i=!1,s=arguments.length-1;s>=-1&&!i;s--){var a;s>=0?a=arguments[s]:(void 0===t&&(t=process.cwd()),a=t),e(a),0!==a.length&&(n=a+"/"+n,i=47===a.charCodeAt(0))}return n=r(n,!i),i?n.length>0?"/"+n:"/":n.length>0?n:"."},normalize:function(t){if(e(t),0===t.length)return".";var n=47===t.charCodeAt(0),i=47===t.charCodeAt(t.length-1);return 0!==(t=r(t,!n)).length||n||(t="."),t.length>0&&i&&(t+="/"),n?"/"+t:t},isAbsolute:function(t){return e(t),t.length>0&&47===t.charCodeAt(0)},join:function(){if(0===arguments.length)return".";for(var t,r=0;r<arguments.length;++r){var i=arguments[r];e(i),i.length>0&&(void 0===t?t=i:t+="/"+i)}return void 0===t?".":n.normalize(t)},relative:function(t,r){if(e(t),e(r),t===r)return"";if((t=n.resolve(t))===(r=n.resolve(r)))return"";for(var i=1;i<t.length&&47===t.charCodeAt(i);++i);for(var s=t.length,a=s-i,o=1;o<r.length&&47===r.charCodeAt(o);++o);for(var c=r.length-o,f=a<c?a:c,l=-1,h=0;h<=f;++h){if(h===f){if(c>f){if(47===r.charCodeAt(o+h))return r.slice(o+h+1);if(0===h)return r.slice(o+h)}else a>f&&(47===t.charCodeAt(i+h)?l=h:0===h&&(l=0));break}var u=t.charCodeAt(i+h);if(u!==r.charCodeAt(o+h))break;47===u&&(l=h)}var d="";for(h=i+l+1;h<=s;++h)h!==s&&47!==t.charCodeAt(h)||(0===d.length?d+="..":d+="/..");return d.length>0?d+r.slice(o+l):(o+=l,47===r.charCodeAt(o)&&++o,r.slice(o))},_makeLong:function(t){return t},dirname:function(t){if(e(t),0===t.length)return".";for(var r=t.charCodeAt(0),n=47===r,i=-1,s=!0,a=t.length-1;a>=1;--a)if(47===(r=t.charCodeAt(a))){if(!s){i=a;break}}else s=!1;return-1===i?n?"/":".":n&&1===i?"//":t.slice(0,i)},basename:function(t,r){if(void 0!==r&&"string"!=typeof r)throw new TypeError('"ext" argument must be a string');e(t);var n,i=0,s=-1,a=!0;if(void 0!==r&&r.length>0&&r.length<=t.length){if(r.length===t.length&&r===t)return"";var o=r.length-1,c=-1;for(n=t.length-1;n>=0;--n){var f=t.charCodeAt(n);if(47===f){if(!a){i=n+1;break}}else-1===c&&(a=!1,c=n+1),o>=0&&(f===r.charCodeAt(o)?-1==--o&&(s=n):(o=-1,s=c))}return i===s?s=c:-1===s&&(s=t.length),t.slice(i,s)}for(n=t.length-1;n>=0;--n)if(47===t.charCodeAt(n)){if(!a){i=n+1;break}}else-1===s&&(a=!1,s=n+1);return-1===s?"":t.slice(i,s)},extname:function(t){e(t);for(var r=-1,n=0,i=-1,s=!0,a=0,o=t.length-1;o>=0;--o){var c=t.charCodeAt(o);if(47!==c)-1===i&&(s=!1,i=o+1),46===c?-1===r?r=o:1!==a&&(a=1):-1!==r&&(a=-1);else if(!s){n=o+1;break}}return-1===r||-1===i||0===a||1===a&&r===i-1&&r===n+1?"":t.slice(r,i)},format:function(t){if(null===t||"object"!=typeof t)throw new TypeError('The "pathObject" argument must be of type Object. Received type '+typeof t);return function(t,e){var r=e.dir||e.root,n=e.base||(e.name||"")+(e.ext||"");return r?r===e.root?r+n:r+t+n:n}("/",t)},parse:function(t){e(t);var r={root:"",dir:"",base:"",ext:"",name:""};if(0===t.length)return r;var n,i=t.charCodeAt(0),s=47===i;s?(r.root="/",n=1):n=0;for(var a=-1,o=0,c=-1,f=!0,l=t.length-1,h=0;l>=n;--l)if(47!==(i=t.charCodeAt(l)))-1===c&&(f=!1,c=l+1),46===i?-1===a?a=l:1!==h&&(h=1):-1!==a&&(h=-1);else if(!f){o=l+1;break}return-1===a||-1===c||0===h||1===h&&a===c-1&&a===o+1?-1!==c&&(r.base=r.name=0===o&&s?t.slice(1,c):t.slice(o,c)):(0===o&&s?(r.name=t.slice(1,a),r.base=t.slice(1,c)):(r.name=t.slice(o,a),r.base=t.slice(o,c)),r.ext=t.slice(a,c)),o>0?r.dir=t.slice(0,o-1):s&&(r.dir="/"),r},sep:"/",delimiter:":",win32:null,posix:null};n.posix=n,t.exports=n},509:(t,e,r)=>{var n=r(764),i=n.Buffer;function s(t,e){for(var r in t)e[r]=t[r]}function a(t,e,r){return i(t,e,r)}i.from&&i.alloc&&i.allocUnsafe&&i.allocUnsafeSlow?t.exports=n:(s(n,e),e.Buffer=a),s(i,a),a.from=function(t,e,r){if("number"==typeof t)throw new TypeError("Argument must not be a number");return i(t,e,r)},a.alloc=function(t,e,r){if("number"!=typeof t)throw new TypeError("Argument must be a number");var n=i(t);return void 0!==e?"string"==typeof r?n.fill(e,r):n.fill(e):n.fill(0),n},a.allocUnsafe=function(t){if("number"!=typeof t)throw new TypeError("Argument must be a number");return i(t)},a.allocUnsafeSlow=function(t){if("number"!=typeof t)throw new TypeError("Argument must be a number");return n.SlowBuffer(t)}},189:(t,e,r)=>{var n=r(509).Buffer;function i(t,e){this._block=n.alloc(t),this._finalSize=e,this._blockSize=t,this._len=0}i.prototype.update=function(t,e){"string"==typeof t&&(e=e||"utf8",t=n.from(t,e));for(var r=this._block,i=this._blockSize,s=t.length,a=this._len,o=0;o<s;){for(var c=a%i,f=Math.min(s-o,i-c),l=0;l<f;l++)r[c+l]=t[o+l];o+=f,(a+=f)%i==0&&this._update(r)}return this._len+=s,this},i.prototype.digest=function(t){var e=this._len%this._blockSize;this._block[e]=128,this._block.fill(0,e+1),e>=this._finalSize&&(this._update(this._block),this._block.fill(0));var r=8*this._len;if(r<=4294967295)this._block.writeUInt32BE(r,this._blockSize-4);else{var n=(4294967295&r)>>>0,i=(r-n)/4294967296;this._block.writeUInt32BE(i,this._blockSize-8),this._block.writeUInt32BE(n,this._blockSize-4)}this._update(this._block);var s=this._hash();return t?s.toString(t):s},i.prototype._update=function(){throw new Error("_update must be implemented by subclass")},t.exports=i},336:(t,e,r)=>{var n=r(717),i=r(189),s=r(509).Buffer,a=[1518500249,1859775393,-1894007588,-899497514],o=new Array(80);function c(){this.init(),this._w=o,i.call(this,64,56)}function f(t){return t<<5|t>>>27}function l(t){return t<<30|t>>>2}function h(t,e,r,n){return 0===t?e&r|~e&n:2===t?e&r|e&n|r&n:e^r^n}n(c,i),c.prototype.init=function(){return this._a=1732584193,this._b=4023233417,this._c=2562383102,this._d=271733878,this._e=3285377520,this},c.prototype._update=function(t){for(var e,r=this._w,n=0|this._a,i=0|this._b,s=0|this._c,o=0|this._d,c=0|this._e,u=0;u<16;++u)r[u]=t.readInt32BE(4*u);for(;u<80;++u)r[u]=(e=r[u-3]^r[u-8]^r[u-14]^r[u-16])<<1|e>>>31;for(var d=0;d<80;++d){var p=~~(d/20),g=f(n)+h(p,i,s,o)+c+r[d]+a[p]|0;c=o,o=s,s=l(i),i=n,n=g}this._a=n+this._a|0,this._b=i+this._b|0,this._c=s+this._c|0,this._d=o+this._d|0,this._e=c+this._e|0},c.prototype._hash=function(){var t=s.allocUnsafe(20);return t.writeInt32BE(0|this._a,0),t.writeInt32BE(0|this._b,4),t.writeInt32BE(0|this._c,8),t.writeInt32BE(0|this._d,12),t.writeInt32BE(0|this._e,16),t},t.exports=c}},e={};function r(n){var i=e[n];if(void 0!==i)return i.exports;var s=e[n]={exports:{}};return t[n](s,s.exports,r),s.exports}r.n=t=>{var e=t&&t.__esModule?()=>t.default:()=>t;return r.d(e,{a:e}),e},r.d=(t,e)=>{for(var n in e)r.o(e,n)&&!r.o(t,n)&&Object.defineProperty(t,n,{enumerable:!0,get:e[n]})},r.o=(t,e)=>Object.prototype.hasOwnProperty.call(t,e),r.r=t=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})};var n={};(()=>{"use strict";r.r(n),r.d(n,{Errors:()=>t,FileSystem:()=>Ei,GitAnnotatedTag:()=>ct,GitCommit:()=>lt,GitConfig:()=>Y,GitConfigManager:()=>X,GitIgnoreManager:()=>ii,GitIndex:()=>fi,GitIndexManager:()=>di,GitObject:()=>ht,GitPackIndex:()=>Cn,GitPktLine:()=>Xn,GitRefManager:()=>Q,GitRefSpec:()=>O,GitRefSpecSet:()=>C,GitRemoteHTTP:()=>ki,GitRemoteManager:()=>xi,GitShallowManager:()=>nt,GitSideBand:()=>Si,GitTree:()=>Gn,GitWalkSymbol:()=>Pi,_pack:()=>Yn,_readObject:()=>Pn,_writeObject:()=>Bi,calculateBasicAuthHeader:()=>pi,collect:()=>gi,comparePath:()=>Mn,flatFileListToDirectoryStructure:()=>$i,isBinary:()=>Ui,join:()=>P,listCommitsAndTags:()=>jn,listObjects:()=>Hn,mergeFile:()=>Ci,mergeTree:()=>Fi,padHex:()=>Kn,parseReceivePackResponse:()=>Ki,parseRefsAdResponse:()=>wi,parseUploadPackRequest:()=>Xi,parseUploadPackResponse:()=>Yi,path:()=>qi,pkg:()=>Vn,resolveTree:()=>zi,shasum:()=>In,sleep:()=>Wi,uploadPack:()=>Qn,writeReceivePackRequest:()=>Vi,writeRefsAdResponse:()=>Jn,writeUploadPackRequest:()=>Ji});var t={};r.r(t),r.d(t,{AlreadyExistsError:()=>i,AmbiguousError:()=>s,CheckoutConflictError:()=>a,CommitNotFetchedError:()=>o,EmptyServerResponseError:()=>c,FastForwardError:()=>f,GitPushError:()=>l,HttpError:()=>h,InternalError:()=>u,InvalidFilepathError:()=>d,InvalidOidError:()=>p,InvalidRefNameError:()=>g,MaxDepthError:()=>m,MergeNotSupportedError:()=>w,MissingNameError:()=>_,MissingParameterError:()=>y,NoRefspecError:()=>b,NotFoundError:()=>v,ObjectTypeError:()=>k,ParseError:()=>x,PushRejectedError:()=>E,RemoteCapabilityError:()=>A,SmartHttpError:()=>S,UnknownTransportError:()=>B,UnsafeFilepathError:()=>$,UrlParseError:()=>U,UserCanceledError:()=>R});class e extends Error{constructor(t){super(t),this.caller=""}toJSON(){return{code:this.code,data:this.data,caller:this.caller,message:this.message,stack:this.stack}}fromJSON(t){const r=new e(t.message);return r.code=t.code,r.data=t.data,r.caller=t.caller,r.stack=t.stack,r}get isIsomorphicGitError(){return!0}}class i extends e{constructor(t,e,r=!0){super(`Failed to create ${t} at ${e} because it already exists.${r?` (Hint: use 'force: true' parameter to overwrite existing ${t}.)`:""}`),this.code=this.name=i.code,this.data={noun:t,where:e,canForce:r}}}i.code="AlreadyExistsError";class s extends e{constructor(t,e,r){super(`Found multiple ${t} matching "${e}" (${r.join(", ")}). Use a longer abbreviation length to disambiguate them.`),this.code=this.name=s.code,this.data={nouns:t,short:e,matches:r}}}s.code="AmbiguousError";class a extends e{constructor(t){super(`Your local changes to the following files would be overwritten by checkout: ${t.join(", ")}`),this.code=this.name=a.code,this.data={filepaths:t}}}a.code="CheckoutConflictError";class o extends e{constructor(t,e){super(`Failed to checkout "${t}" because commit ${e} is not available locally. Do a git fetch to make the branch available locally.`),this.code=this.name=o.code,this.data={ref:t,oid:e}}}o.code="CommitNotFetchedError";class c extends e{constructor(){super("Empty response from git server."),this.code=this.name=c.code,this.data={}}}c.code="EmptyServerResponseError";class f extends e{constructor(){super("A simple fast-forward merge was not possible."),this.code=this.name=f.code,this.data={}}}f.code="FastForwardError";class l extends e{constructor(t,e){super(`One or more branches were not updated: ${t}`),this.code=this.name=l.code,this.data={prettyDetails:t,result:e}}}l.code="GitPushError";class h extends e{constructor(t,e,r){super(`HTTP Error: ${t} ${e}`),this.code=this.name=h.code,this.data={statusCode:t,statusMessage:e,response:r}}}h.code="HttpError";class u extends e{constructor(t){super(`An internal error caused this command to fail. Please file a bug report at https://github.com/isomorphic-git/isomorphic-git/issues with this error message: ${t}`),this.code=this.name=u.code,this.data={message:t}}}u.code="InternalError";class d extends e{constructor(t){let e="invalid filepath";"leading-slash"!==t&&"trailing-slash"!==t||(e='"filepath" parameter should not include leading or trailing directory separators because these can cause problems on some platforms.'),super(e),this.code=this.name=d.code,this.data={reason:t}}}d.code="InvalidFilepathError";class p extends e{constructor(t){super(`Expected a 40-char hex object id but saw "${t}".`),this.code=this.name=p.code,this.data={value:t}}}p.code="InvalidOidError";class g extends e{constructor(t,e){super(`"${t}" would be an invalid git reference. (Hint: a valid alternative would be "${e}".)`),this.code=this.name=g.code,this.data={ref:t,suggestion:e}}}g.code="InvalidRefNameError";class m extends e{constructor(t){super(`Maximum search depth of ${t} exceeded.`),this.code=this.name=m.code,this.data={depth:t}}}m.code="MaxDepthError";class w extends e{constructor(){super("Merges with conflicts are not supported yet."),this.code=this.name=w.code,this.data={}}}w.code="MergeNotSupportedError";class _ extends e{constructor(t){super(`No name was provided for ${t} in the argument or in the .git/config file.`),this.code=this.name=_.code,this.data={role:t}}}_.code="MissingNameError";class y extends e{constructor(t){super(`The function requires a "${t}" parameter but none was provided.`),this.code=this.name=y.code,this.data={parameter:t}}}y.code="MissingParameterError";class b extends e{constructor(t){super(`Could not find a fetch refspec for remote "${t}". Make sure the config file has an entry like the following:\n[remote "${t}"]\n\tfetch = +refs/heads/*:refs/remotes/origin/*\n`),this.code=this.name=b.code,this.data={remote:t}}}b.code="NoRefspecError";class v extends e{constructor(t){super(`Could not find ${t}.`),this.code=this.name=v.code,this.data={what:t}}}v.code="NotFoundError";class k extends e{constructor(t,e,r,n){super(`Object ${t} ${n?`at ${n}`:""}was anticipated to be a ${r} but it is a ${e}.`),this.code=this.name=k.code,this.data={oid:t,actual:e,expected:r,filepath:n}}}k.code="ObjectTypeError";class x extends e{constructor(t,e){super(`Expected "${t}" but received "${e}".`),this.code=this.name=x.code,this.data={expected:t,actual:e}}}x.code="ParseError";class E extends e{constructor(t){let e="";"not-fast-forward"===t?e=" because it was not a simple fast-forward":"tag-exists"===t&&(e=" because tag already exists"),super(`Push rejected${e}. Use "force: true" to override.`),this.code=this.name=E.code,this.data={reason:t}}}E.code="PushRejectedError";class A extends e{constructor(t,e){super(`Remote does not support the "${t}" so the "${e}" parameter cannot be used.`),this.code=this.name=A.code,this.data={capability:t,parameter:e}}}A.code="RemoteCapabilityError";class S extends e{constructor(t,e){super(`Remote did not reply using the "smart" HTTP protocol. Expected "001e# service=git-upload-pack" but received: ${t}`),this.code=this.name=S.code,this.data={preview:t,response:e}}}S.code="SmartHttpError";class B extends e{constructor(t,e,r){super(`Git remote "${t}" uses an unrecognized transport protocol: "${e}"`),this.code=this.name=B.code,this.data={url:t,transport:e,suggestion:r}}}B.code="UnknownTransportError";class $ extends e{constructor(t){super(`The filepath "${t}" contains unsafe character sequences`),this.code=this.name=$.code,this.data={filepath:t}}}$.code="UnsafeFilepathError";class U extends e{constructor(t){super(`Cannot parse remote URL: "${t}"`),this.code=this.name=U.code,this.data={url:t}}}U.code="UrlParseError";class R extends e{constructor(){super("The operation was canceled."),this.code=this.name=R.code,this.data={}}}R.code="UserCanceledError";class I{constructor(t){if(this.refs=new Map,this.parsedConfig=[],t){let e=null;this.parsedConfig=t.trim().split("\n").map((t=>{if(/^\s*#/.test(t))return{line:t,comment:!0};const r=t.indexOf(" ");if(t.startsWith("^")){const r=t.slice(1);return this.refs.set(e+"^{}",r),{line:t,ref:e,peeled:r}}{const n=t.slice(0,r);return e=t.slice(r+1),this.refs.set(e,n),{line:t,ref:e,oid:n}}}))}return this}static from(t){return new I(t)}delete(t){this.parsedConfig=this.parsedConfig.filter((e=>e.ref!==t)),this.refs.delete(t)}toString(){return this.parsedConfig.map((({line:t})=>t)).join("\n")+"\n"}}class O{constructor({remotePath:t,localPath:e,force:r,matchPrefix:n}){Object.assign(this,{remotePath:t,localPath:e,force:r,matchPrefix:n})}static from(t){const[e,r,n,i,s]=t.match(/^(\+?)(.*?)(\*?):(.*?)(\*?)$/).slice(1),a="+"===e,o="*"===n;if(o!==("*"===s))throw new u("Invalid refspec");return new O({remotePath:r,localPath:i,force:a,matchPrefix:o})}translate(t){if(this.matchPrefix){if(t.startsWith(this.remotePath))return this.localPath+t.replace(this.remotePath,"")}else if(t===this.remotePath)return this.localPath;return null}reverseTranslate(t){if(this.matchPrefix){if(t.startsWith(this.localPath))return this.remotePath+t.replace(this.localPath,"")}else if(t===this.localPath)return this.remotePath;return null}}class C{constructor(t=[]){this.rules=t}static from(t){const e=[];for(const r of t)e.push(O.from(r));return new C(e)}add(t){const e=O.from(t);this.rules.push(e)}translate(t){const e=[];for(const r of this.rules)for(const n of t){const t=r.translate(n);t&&e.push([n,t])}return e}translateOne(t){let e=null;for(const r of this.rules){const n=r.translate(t);n&&(e=n)}return e}localNamespaces(){return this.rules.filter((t=>t.matchPrefix)).map((t=>t.localPath.replace(/\/$/,"")))}}function z(t,e){const r=t.replace(/\^\{\}$/,""),n=e.replace(/\^\{\}$/,""),i=-(r<n)||+(r>n);return 0===i?t.endsWith("^{}")?1:-1:i}function T(t){return t.replace(/\/\.\//g,"/").replace(/\/{2,}/g,"/").replace(/^\/\.$/,"/").replace(/^\.\/$/,".").replace(/^\.\//,"").replace(/\/\.$/,"").replace(/(.+)\/$/,"$1").replace(/^$/,".")}function P(...t){return T(t.map(T).join("/"))}const j=t=>{if("true"===(t=t.trim().toLowerCase())||"yes"===t||"on"===t)return!0;if("false"===t||"no"===t||"off"===t)return!1;throw Error(`Expected 'true', 'false', 'yes', 'no', 'on', or 'off', but got ${t}`)},N={core:{filemode:j,bare:j,logallrefupdates:j,symlinks:j,ignorecase:j,bigFileThreshold:t=>{t=t.toLowerCase();let e=parseInt(t);return t.endsWith("k")&&(e*=1024),t.endsWith("m")&&(e*=1048576),t.endsWith("g")&&(e*=1073741824),e}}},M=/^\[([A-Za-z0-9-.]+)(?: "(.*)")?\]$/,D=/^[A-Za-z0-9-.]+$/,L=/^([A-Za-z][A-Za-z-]*)(?: *= *(.*))?$/,F=/^[A-Za-z][A-Za-z-]*$/,Z=/^(.*?)( *[#;].*)$/,G=t=>{const e=Z.exec(t);if(null==e)return t;const[r,n]=e.slice(1);return H(r)&&H(n)?`${r}${n}`:r},H=t=>(t.match(/(?:^|[^\\])"/g)||[]).length%2!=0,q=t=>t.split("").reduce(((t,e,r,n)=>{const i='"'===e&&"\\"!==n[r-1],s="\\"===e&&'"'===n[r+1];return i||s?t:t+e}),""),W=t=>null!=t?t.toLowerCase():null,K=(t,e,r)=>[W(t),e,W(r)].filter((t=>null!=t)).join(".");class Y{constructor(t){let e=null,r=null;this.parsedConfig=t.split("\n").map((t=>{let n=null,i=null;const s=t.trim(),a=(t=>{const e=M.exec(t);if(null!=e){const[t,r]=e.slice(1);return[t,r]}return null})(s),o=null!=a;if(o)[e,r]=a;else{const t=(t=>{const e=L.exec(t);if(null!=e){const[t,r="true"]=e.slice(1),n=G(r);return[t,q(n)]}return null})(s);null!=t&&([n,i]=t)}const c=K(e,r,n);return{line:t,isSection:o,section:e,subsection:r,name:n,value:i,path:c}}))}static from(t){return new Y(t)}async get(t,e=!1){const r=this.parsedConfig.filter((e=>e.path===t.toLowerCase())).map((({section:t,name:e,value:r})=>{const n=N[t]&&N[t][e];return n?n(r):r}));return e?r:r.pop()}async getall(t){return this.get(t,!0)}async getSubsections(t){return this.parsedConfig.filter((e=>e.section===t&&e.isSection)).map((t=>t.subsection))}async deleteSection(t,e){this.parsedConfig=this.parsedConfig.filter((r=>!(r.section===t&&r.subsection===e)))}async append(t,e){return this.set(t,e,!0)}async set(t,e,r=!1){const n=(i=this.parsedConfig,s=e=>e.path===t.toLowerCase(),i.reduce(((t,e,r)=>s(e)?r:t),-1));var i,s;if(null==e)-1!==n&&this.parsedConfig.splice(n,1);else if(-1!==n){const t=this.parsedConfig[n],i=Object.assign({},t,{value:e,modified:!0});r?this.parsedConfig.splice(n+1,0,i):this.parsedConfig[n]=i}else{const r=t.split(".").slice(0,-1).join(".").toLowerCase(),n=this.parsedConfig.findIndex((t=>t.path===r)),[i,s]=r.split("."),a=t.split(".").pop(),o={section:i,subsection:s,name:a,value:e,modified:!0,path:K(i,s,a)};if(D.test(i)&&F.test(a))if(n>=0)this.parsedConfig.splice(n+1,0,o);else{const t={section:i,subsection:s,modified:!0,path:K(i,s,null)};this.parsedConfig.push(t,o)}}}toString(){return this.parsedConfig.map((({line:t,section:e,subsection:r,name:n,value:i,modified:s=!1})=>s?null!=n&&null!=i?`\t${n} = ${i}`:null!=r?`[${e} "${r}"]`:`[${e}]`:t)).join("\n")}}class X{static async get({fs:t,gitdir:e}){const r=await t.read(`${e}/config`,{encoding:"utf8"});return Y.from(r)}static async save({fs:t,gitdir:e,config:r}){await t.write(`${e}/config`,r.toString(),{encoding:"utf8"})}}const V=t=>[`${t}`,`refs/${t}`,`refs/tags/${t}`,`refs/heads/${t}`,`refs/remotes/${t}`,`refs/remotes/${t}/HEAD`],J=["config","description","index","shallow","commondir"];class Q{static async updateRemoteRefs({fs:t,gitdir:e,remote:r,refs:n,symrefs:i,tags:s,refspecs:a,prune:o=!1,pruneTags:c=!1}){for(const t of n.values())if(!t.match(/[0-9a-f]{40}/))throw new p(t);const f=await X.get({fs:t,gitdir:e});if(!a){if(0===(a=await f.getall(`remote.${r}.fetch`)).length)throw new b(r);a.unshift(`+HEAD:refs/remotes/${r}/HEAD`)}const l=C.from(a),h=new Map;if(c){const r=await Q.listRefs({fs:t,gitdir:e,filepath:"refs/tags"});await Q.deleteRefs({fs:t,gitdir:e,refs:r.map((t=>`refs/tags/${t}`))})}if(s)for(const r of n.keys())if(r.startsWith("refs/tags")&&!r.endsWith("^{}")&&!await Q.exists({fs:t,gitdir:e,ref:r})){const t=n.get(r+"^{}")||n.get(r);h.set(r,t)}const u=l.translate([...n.keys()]);for(const[t,e]of u){const r=n.get(t);h.set(e,r)}const d=l.translate([...i.keys()]);for(const[t,e]of d){const r=i.get(t),n=l.translateOne(r);n&&h.set(e,`ref: ${n}`)}const g=[];if(o){for(const r of l.localNamespaces()){const n=(await Q.listRefs({fs:t,gitdir:e,filepath:r})).map((t=>`${r}/${t}`));for(const t of n)h.has(t)||g.push(t)}g.length>0&&await Q.deleteRefs({fs:t,gitdir:e,refs:g})}for(const[r,n]of h)await t.write(P(e,r),`${n.trim()}\n`,"utf8");return{pruned:g}}static async writeRef({fs:t,gitdir:e,ref:r,value:n}){if(!n.match(/[0-9a-f]{40}/))throw new p(n);await t.write(P(e,r),`${n.trim()}\n`,"utf8")}static async writeSymbolicRef({fs:t,gitdir:e,ref:r,value:n}){await t.write(P(e,r),`ref: ${n.trim()}\n`,"utf8")}static async deleteRef({fs:t,gitdir:e,ref:r}){return Q.deleteRefs({fs:t,gitdir:e,refs:[r]})}static async deleteRefs({fs:t,gitdir:e,refs:r}){await Promise.all(r.map((r=>t.rm(P(e,r)))));let n=await t.read(`${e}/packed-refs`,{encoding:"utf8"});const i=I.from(n),s=i.refs.size;for(const t of r)i.refs.has(t)&&i.delete(t);i.refs.size<s&&(n=i.toString(),await t.write(`${e}/packed-refs`,n,{encoding:"utf8"}))}static async resolve({fs:t,gitdir:e,ref:r,depth:n}){if(void 0!==n&&-1===--n)return r;let i;if(r.startsWith("ref: "))return r=r.slice("ref: ".length),Q.resolve({fs:t,gitdir:e,ref:r,depth:n});if(40===r.length&&/[0-9a-f]{40}/.test(r))return r;const s=await Q.packedRefs({fs:t,gitdir:e}),a=V(r).filter((t=>!J.includes(t)));for(const r of a)if(i=await t.read(`${e}/${r}`,{encoding:"utf8"})||s.get(r),i)return Q.resolve({fs:t,gitdir:e,ref:i.trim(),depth:n});throw new v(r)}static async exists({fs:t,gitdir:e,ref:r}){try{return await Q.expand({fs:t,gitdir:e,ref:r}),!0}catch(t){return!1}}static async expand({fs:t,gitdir:e,ref:r}){if(40===r.length&&/[0-9a-f]{40}/.test(r))return r;const n=await Q.packedRefs({fs:t,gitdir:e}),i=V(r);for(const r of i){if(await t.exists(`${e}/${r}`))return r;if(n.has(r))return r}throw new v(r)}static async expandAgainstMap({ref:t,map:e}){const r=V(t);for(const t of r)if(await e.has(t))return t;throw new v(t)}static resolveAgainstMap({ref:t,fullref:e=t,depth:r,map:n}){if(void 0!==r&&-1===--r)return{fullref:e,oid:t};if(t.startsWith("ref: "))return t=t.slice("ref: ".length),Q.resolveAgainstMap({ref:t,fullref:e,depth:r,map:n});if(40===t.length&&/[0-9a-f]{40}/.test(t))return{fullref:e,oid:t};const i=V(t);for(const t of i){const e=n.get(t);if(e)return Q.resolveAgainstMap({ref:e.trim(),fullref:t,depth:r,map:n})}throw new v(t)}static async packedRefs({fs:t,gitdir:e}){const r=await t.read(`${e}/packed-refs`,{encoding:"utf8"});return I.from(r).refs}static async listRefs({fs:t,gitdir:e,filepath:r}){const n=Q.packedRefs({fs:t,gitdir:e});let i=null;try{i=await t.readdirDeep(`${e}/${r}`),i=i.map((t=>t.replace(`${e}/${r}/`,"")))}catch(t){i=[]}for(let t of(await n).keys())t.startsWith(r)&&(t=t.replace(r+"/",""),i.includes(t)||i.push(t));return i.sort(z),i}static async listBranches({fs:t,gitdir:e,remote:r}){return r?Q.listRefs({fs:t,gitdir:e,filepath:`refs/remotes/${r}`}):Q.listRefs({fs:t,gitdir:e,filepath:"refs/heads"})}static async listTags({fs:t,gitdir:e}){return(await Q.listRefs({fs:t,gitdir:e,filepath:"refs/tags"})).filter((t=>!t.endsWith("^{}")))}}var tt=r(758),et=r.n(tt);let rt=null;class nt{static async read({fs:t,gitdir:e}){null===rt&&(rt=new(et()));const r=P(e,"shallow"),n=new Set;return await rt.acquire(r,(async function(){const e=await t.read(r,{encoding:"utf8"});return null===e||""===e.trim()?n:void e.trim().split("\n").map((t=>n.add(t)))})),n}static async write({fs:t,gitdir:e,oids:r}){null===rt&&(rt=new(et()));const n=P(e,"shallow");if(r.size>0){const e=[...r].join("\n")+"\n";await rt.acquire(n,(async function(){await t.write(n,e,{encoding:"utf8"})}))}else await rt.acquire(n,(async function(){await t.rm(n)}))}}function it({name:t,email:e,timestamp:r,timezoneOffset:n}){return`${t} <${e}> ${r} ${n=function(t){const e=function(t){return Math.sign(t)||(Object.is(t,-0)?-1:1)}((r=t,0===r?r:-r));var r;t=Math.abs(t);const n=Math.floor(t/60);t-=60*n;let i=String(n),s=String(t);i.length<2&&(i="0"+i);s.length<2&&(s="0"+s);return(-1===e?"-":"+")+i+s}(n)}`}function st(t){return t=(t=(t=t.replace(/\r/g,"")).replace(/^\n+/,"")).replace(/\n+$/,"")+"\n"}function at(t){const[,e,r,n,i]=t.match(/^(.*) <(.*)> (.*) (.*)$/);return{name:e,email:r,timestamp:Number(n),timezoneOffset:ot(i)}}function ot(t){let[,e,r,n]=t.match(/(\+|-)(\d\d)(\d\d)/);return n=("+"===e?1:-1)*(60*Number(r)+Number(n)),0===(i=n)?i:-i;var i}class ct{constructor(t){if("string"==typeof t)this._tag=t;else if(Buffer.isBuffer(t))this._tag=t.toString("utf8");else{if("object"!=typeof t)throw new u("invalid type passed to GitAnnotatedTag constructor");this._tag=ct.render(t)}}static from(t){return new ct(t)}static render(t){return`object ${t.object}\ntype ${t.type}\ntag ${t.tag}\ntagger ${it(t.tagger)}\n\n${t.message}\n${t.gpgsig?t.gpgsig:""}`}justHeaders(){return this._tag.slice(0,this._tag.indexOf("\n\n"))}message(){const t=this.withoutSignature();return t.slice(t.indexOf("\n\n")+2)}parse(){return Object.assign(this.headers(),{message:this.message(),gpgsig:this.gpgsig()})}render(){return this._tag}headers(){const t=this.justHeaders().split("\n"),e=[];for(const r of t)" "===r[0]?e[e.length-1]+="\n"+r.slice(1):e.push(r);const r={};for(const t of e){const e=t.slice(0,t.indexOf(" ")),n=t.slice(t.indexOf(" ")+1);Array.isArray(r[e])?r[e].push(n):r[e]=n}return r.tagger&&(r.tagger=at(r.tagger)),r.committer&&(r.committer=at(r.committer)),r}withoutSignature(){const t=st(this._tag);return-1===t.indexOf("\n-----BEGIN PGP SIGNATURE-----")?t:t.slice(0,t.lastIndexOf("\n-----BEGIN PGP SIGNATURE-----"))}gpgsig(){if(-1===this._tag.indexOf("\n-----BEGIN PGP SIGNATURE-----"))return;return st(this._tag.slice(this._tag.indexOf("-----BEGIN PGP SIGNATURE-----"),this._tag.indexOf("-----END PGP SIGNATURE-----")+"-----END PGP SIGNATURE-----".length))}payload(){return this.withoutSignature()+"\n"}toObject(){return Buffer.from(this._tag,"utf8")}static async sign(t,e,r){const n=t.payload();let{signature:i}=await e({payload:n,secretKey:r});i=st(i);const s=n+i;return ct.from(s)}}function ft(t){return t.trim().split("\n").map((t=>" "+t)).join("\n")+"\n"}class lt{constructor(t){if("string"==typeof t)this._commit=t;else if(Buffer.isBuffer(t))this._commit=t.toString("utf8");else{if("object"!=typeof t)throw new u("invalid type passed to GitCommit constructor");this._commit=lt.render(t)}}static fromPayloadSignature({payload:t,signature:e}){const r=lt.justHeaders(t),n=lt.justMessage(t),i=st(r+"\ngpgsig"+ft(e)+"\n"+n);return new lt(i)}static from(t){return new lt(t)}toObject(){return Buffer.from(this._commit,"utf8")}headers(){return this.parseHeaders()}message(){return lt.justMessage(this._commit)}parse(){return Object.assign({message:this.message()},this.headers())}static justMessage(t){return st(t.slice(t.indexOf("\n\n")+2))}static justHeaders(t){return t.slice(0,t.indexOf("\n\n"))}parseHeaders(){const t=lt.justHeaders(this._commit).split("\n"),e=[];for(const r of t)" "===r[0]?e[e.length-1]+="\n"+r.slice(1):e.push(r);const r={parent:[]};for(const t of e){const e=t.slice(0,t.indexOf(" ")),n=t.slice(t.indexOf(" ")+1);Array.isArray(r[e])?r[e].push(n):r[e]=n}return r.author&&(r.author=at(r.author)),r.committer&&(r.committer=at(r.committer)),r}static renderHeaders(t){let e="";if(t.tree?e+=`tree ${t.tree}\n`:e+="tree 4b825dc642cb6eb9a060e54bf8d69288fbee4904\n",t.parent){if(void 0===t.parent.length)throw new u("commit 'parent' property should be an array");for(const r of t.parent)e+=`parent ${r}\n`}e+=`author ${it(t.author)}\n`;return e+=`committer ${it(t.committer||t.author)}\n`,t.gpgsig&&(e+="gpgsig"+ft(t.gpgsig)),e}static render(t){return lt.renderHeaders(t)+"\n"+st(t.message)}render(){return this._commit}withoutSignature(){const t=st(this._commit);if(-1===t.indexOf("\ngpgsig"))return t;return st(t.slice(0,t.indexOf("\ngpgsig"))+"\n"+t.slice(t.indexOf("-----END PGP SIGNATURE-----\n")+"-----END PGP SIGNATURE-----\n".length))}isolateSignature(){const t=this._commit.slice(this._commit.indexOf("-----BEGIN PGP SIGNATURE-----"),this._commit.indexOf("-----END PGP SIGNATURE-----")+"-----END PGP SIGNATURE-----".length);return t.split("\n").map((t=>t.replace(/^ /,""))).join("\n")}static async sign(t,e,r){const n=t.withoutSignature(),i=lt.justMessage(t._commit);let{signature:s}=await e({payload:n,secretKey:r});s=st(s);const a=lt.justHeaders(t._commit)+"\ngpgsig"+ft(s)+"\n"+i;return lt.from(a)}}class ht{static wrap({type:t,object:e}){return Buffer.concat([Buffer.from(`${t} ${e.byteLength.toString()}\0`),Buffer.from(e)])}static unwrap(t){const e=t.indexOf(32),r=t.indexOf(0),n=t.slice(0,e).toString("utf8"),i=t.slice(e+1,r).toString("utf8"),s=t.length-(r+1);if(parseInt(i)!==s)throw new u(`Length mismatch: expected ${i} bytes but got ${s} instead.`);return{type:n,object:Buffer.from(t.slice(r+1))}}}var ut=r(606),dt=r.n(ut);class pt{constructor(t){this.buffer=t,this._start=0}eof(){return this._start>=this.buffer.length}tell(){return this._start}seek(t){this._start=t}slice(t){const e=this.buffer.slice(this._start,this._start+t);return this._start+=t,e}toString(t,e){const r=this.buffer.toString(t,this._start,this._start+e);return this._start+=e,r}write(t,e,r){const n=this.buffer.write(t,this._start,e,r);return this._start+=e,n}copy(t,e,r){const n=t.copy(this.buffer,this._start,e,r);return this._start+=n,n}readUInt8(){const t=this.buffer.readUInt8(this._start);return this._start+=1,t}writeUInt8(t){const e=this.buffer.writeUInt8(t,this._start);return this._start+=1,e}readUInt16BE(){const t=this.buffer.readUInt16BE(this._start);return this._start+=2,t}writeUInt16BE(t){const e=this.buffer.writeUInt16BE(t,this._start);return this._start+=2,e}readUInt32BE(){const t=this.buffer.readUInt32BE(this._start);return this._start+=4,t}writeUInt32BE(t){const e=this.buffer.writeUInt32BE(t,this._start);return this._start+=4,e}}function gt(t){let e=0,r=0,n=null;do{n=t.readUInt8(),e|=(127&n)<<r,r+=7}while(128&n);return e}function mt(t,e,r){let n=0,i=0;for(;r--;)1&e&&(n|=t.readUInt8()<<i),e>>=1,i+=8;return n}function wt(t,e){const r=t.readUInt8();if(128&r){const n=mt(t,15&r,4);let i=mt(t,(112&r)>>4,3);return 0===i&&(i=65536),e.slice(n,n+i)}return t.slice(r)}function _t(t){let e=t.length;for(;--e>=0;)t[e]=0}const yt=256,bt=286,vt=30,kt=15,xt=new Uint8Array([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0]),Et=new Uint8Array([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13]),At=new Uint8Array([0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7]),St=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),Bt=new Array(576);_t(Bt);const $t=new Array(60);_t($t);const Ut=new Array(512);_t(Ut);const Rt=new Array(256);_t(Rt);const It=new Array(29);_t(It);const Ot=new Array(vt);function Ct(t,e,r,n,i){this.static_tree=t,this.extra_bits=e,this.extra_base=r,this.elems=n,this.max_length=i,this.has_stree=t&&t.length}let zt,Tt,Pt;function jt(t,e){this.dyn_tree=t,this.max_code=0,this.stat_desc=e}_t(Ot);const Nt=t=>t<256?Ut[t]:Ut[256+(t>>>7)],Mt=(t,e)=>{t.pending_buf[t.pending++]=255&e,t.pending_buf[t.pending++]=e>>>8&255},Dt=(t,e,r)=>{t.bi_valid>16-r?(t.bi_buf|=e<<t.bi_valid&65535,Mt(t,t.bi_buf),t.bi_buf=e>>16-t.bi_valid,t.bi_valid+=r-16):(t.bi_buf|=e<<t.bi_valid&65535,t.bi_valid+=r)},Lt=(t,e,r)=>{Dt(t,r[2*e],r[2*e+1])},Ft=(t,e)=>{let r=0;do{r|=1&t,t>>>=1,r<<=1}while(--e>0);return r>>>1},Zt=(t,e,r)=>{const n=new Array(16);let i,s,a=0;for(i=1;i<=kt;i++)n[i]=a=a+r[i-1]<<1;for(s=0;s<=e;s++){let e=t[2*s+1];0!==e&&(t[2*s]=Ft(n[e]++,e))}},Gt=t=>{let e;for(e=0;e<bt;e++)t.dyn_ltree[2*e]=0;for(e=0;e<vt;e++)t.dyn_dtree[2*e]=0;for(e=0;e<19;e++)t.bl_tree[2*e]=0;t.dyn_ltree[512]=1,t.opt_len=t.static_len=0,t.last_lit=t.matches=0},Ht=t=>{t.bi_valid>8?Mt(t,t.bi_buf):t.bi_valid>0&&(t.pending_buf[t.pending++]=t.bi_buf),t.bi_buf=0,t.bi_valid=0},qt=(t,e,r,n)=>{const i=2*e,s=2*r;return t[i]<t[s]||t[i]===t[s]&&n[e]<=n[r]},Wt=(t,e,r)=>{const n=t.heap[r];let i=r<<1;for(;i<=t.heap_len&&(i<t.heap_len&&qt(e,t.heap[i+1],t.heap[i],t.depth)&&i++,!qt(e,n,t.heap[i],t.depth));)t.heap[r]=t.heap[i],r=i,i<<=1;t.heap[r]=n},Kt=(t,e,r)=>{let n,i,s,a,o=0;if(0!==t.last_lit)do{n=t.pending_buf[t.d_buf+2*o]<<8|t.pending_buf[t.d_buf+2*o+1],i=t.pending_buf[t.l_buf+o],o++,0===n?Lt(t,i,e):(s=Rt[i],Lt(t,s+yt+1,e),a=xt[s],0!==a&&(i-=It[s],Dt(t,i,a)),n--,s=Nt(n),Lt(t,s,r),a=Et[s],0!==a&&(n-=Ot[s],Dt(t,n,a)))}while(o<t.last_lit);Lt(t,256,e)},Yt=(t,e)=>{const r=e.dyn_tree,n=e.stat_desc.static_tree,i=e.stat_desc.has_stree,s=e.stat_desc.elems;let a,o,c,f=-1;for(t.heap_len=0,t.heap_max=573,a=0;a<s;a++)0!==r[2*a]?(t.heap[++t.heap_len]=f=a,t.depth[a]=0):r[2*a+1]=0;for(;t.heap_len<2;)c=t.heap[++t.heap_len]=f<2?++f:0,r[2*c]=1,t.depth[c]=0,t.opt_len--,i&&(t.static_len-=n[2*c+1]);for(e.max_code=f,a=t.heap_len>>1;a>=1;a--)Wt(t,r,a);c=s;do{a=t.heap[1],t.heap[1]=t.heap[t.heap_len--],Wt(t,r,1),o=t.heap[1],t.heap[--t.heap_max]=a,t.heap[--t.heap_max]=o,r[2*c]=r[2*a]+r[2*o],t.depth[c]=(t.depth[a]>=t.depth[o]?t.depth[a]:t.depth[o])+1,r[2*a+1]=r[2*o+1]=c,t.heap[1]=c++,Wt(t,r,1)}while(t.heap_len>=2);t.heap[--t.heap_max]=t.heap[1],((t,e)=>{const r=e.dyn_tree,n=e.max_code,i=e.stat_desc.static_tree,s=e.stat_desc.has_stree,a=e.stat_desc.extra_bits,o=e.stat_desc.extra_base,c=e.stat_desc.max_length;let f,l,h,u,d,p,g=0;for(u=0;u<=kt;u++)t.bl_count[u]=0;for(r[2*t.heap[t.heap_max]+1]=0,f=t.heap_max+1;f<573;f++)l=t.heap[f],u=r[2*r[2*l+1]+1]+1,u>c&&(u=c,g++),r[2*l+1]=u,l>n||(t.bl_count[u]++,d=0,l>=o&&(d=a[l-o]),p=r[2*l],t.opt_len+=p*(u+d),s&&(t.static_len+=p*(i[2*l+1]+d)));if(0!==g){do{for(u=c-1;0===t.bl_count[u];)u--;t.bl_count[u]--,t.bl_count[u+1]+=2,t.bl_count[c]--,g-=2}while(g>0);for(u=c;0!==u;u--)for(l=t.bl_count[u];0!==l;)h=t.heap[--f],h>n||(r[2*h+1]!==u&&(t.opt_len+=(u-r[2*h+1])*r[2*h],r[2*h+1]=u),l--)}})(t,e),Zt(r,f,t.bl_count)},Xt=(t,e,r)=>{let n,i,s=-1,a=e[1],o=0,c=7,f=4;for(0===a&&(c=138,f=3),e[2*(r+1)+1]=65535,n=0;n<=r;n++)i=a,a=e[2*(n+1)+1],++o<c&&i===a||(o<f?t.bl_tree[2*i]+=o:0!==i?(i!==s&&t.bl_tree[2*i]++,t.bl_tree[32]++):o<=10?t.bl_tree[34]++:t.bl_tree[36]++,o=0,s=i,0===a?(c=138,f=3):i===a?(c=6,f=3):(c=7,f=4))},Vt=(t,e,r)=>{let n,i,s=-1,a=e[1],o=0,c=7,f=4;for(0===a&&(c=138,f=3),n=0;n<=r;n++)if(i=a,a=e[2*(n+1)+1],!(++o<c&&i===a)){if(o<f)do{Lt(t,i,t.bl_tree)}while(0!=--o);else 0!==i?(i!==s&&(Lt(t,i,t.bl_tree),o--),Lt(t,16,t.bl_tree),Dt(t,o-3,2)):o<=10?(Lt(t,17,t.bl_tree),Dt(t,o-3,3)):(Lt(t,18,t.bl_tree),Dt(t,o-11,7));o=0,s=i,0===a?(c=138,f=3):i===a?(c=6,f=3):(c=7,f=4)}};let Jt=!1;const Qt=(t,e,r,n)=>{Dt(t,0+(n?1:0),3),((t,e,r,n)=>{Ht(t),n&&(Mt(t,r),Mt(t,~r)),t.pending_buf.set(t.window.subarray(e,e+r),t.pending),t.pending+=r})(t,e,r,!0)};var te={_tr_init:t=>{Jt||((()=>{let t,e,r,n,i;const s=new Array(16);for(r=0,n=0;n<28;n++)for(It[n]=r,t=0;t<1<<xt[n];t++)Rt[r++]=n;for(Rt[r-1]=n,i=0,n=0;n<16;n++)for(Ot[n]=i,t=0;t<1<<Et[n];t++)Ut[i++]=n;for(i>>=7;n<vt;n++)for(Ot[n]=i<<7,t=0;t<1<<Et[n]-7;t++)Ut[256+i++]=n;for(e=0;e<=kt;e++)s[e]=0;for(t=0;t<=143;)Bt[2*t+1]=8,t++,s[8]++;for(;t<=255;)Bt[2*t+1]=9,t++,s[9]++;for(;t<=279;)Bt[2*t+1]=7,t++,s[7]++;for(;t<=287;)Bt[2*t+1]=8,t++,s[8]++;for(Zt(Bt,287,s),t=0;t<vt;t++)$t[2*t+1]=5,$t[2*t]=Ft(t,5);zt=new Ct(Bt,xt,257,bt,kt),Tt=new Ct($t,Et,0,vt,kt),Pt=new Ct(new Array(0),At,0,19,7)})(),Jt=!0),t.l_desc=new jt(t.dyn_ltree,zt),t.d_desc=new jt(t.dyn_dtree,Tt),t.bl_desc=new jt(t.bl_tree,Pt),t.bi_buf=0,t.bi_valid=0,Gt(t)},_tr_stored_block:Qt,_tr_flush_block:(t,e,r,n)=>{let i,s,a=0;t.level>0?(2===t.strm.data_type&&(t.strm.data_type=(t=>{let e,r=4093624447;for(e=0;e<=31;e++,r>>>=1)if(1&r&&0!==t.dyn_ltree[2*e])return 0;if(0!==t.dyn_ltree[18]||0!==t.dyn_ltree[20]||0!==t.dyn_ltree[26])return 1;for(e=32;e<yt;e++)if(0!==t.dyn_ltree[2*e])return 1;return 0})(t)),Yt(t,t.l_desc),Yt(t,t.d_desc),a=(t=>{let e;for(Xt(t,t.dyn_ltree,t.l_desc.max_code),Xt(t,t.dyn_dtree,t.d_desc.max_code),Yt(t,t.bl_desc),e=18;e>=3&&0===t.bl_tree[2*St[e]+1];e--);return t.opt_len+=3*(e+1)+5+5+4,e})(t),i=t.opt_len+3+7>>>3,s=t.static_len+3+7>>>3,s<=i&&(i=s)):i=s=r+5,r+4<=i&&-1!==e?Qt(t,e,r,n):4===t.strategy||s===i?(Dt(t,2+(n?1:0),3),Kt(t,Bt,$t)):(Dt(t,4+(n?1:0),3),((t,e,r,n)=>{let i;for(Dt(t,e-257,5),Dt(t,r-1,5),Dt(t,n-4,4),i=0;i<n;i++)Dt(t,t.bl_tree[2*St[i]+1],3);Vt(t,t.dyn_ltree,e-1),Vt(t,t.dyn_dtree,r-1)})(t,t.l_desc.max_code+1,t.d_desc.max_code+1,a+1),Kt(t,t.dyn_ltree,t.dyn_dtree)),Gt(t),n&&Ht(t)},_tr_tally:(t,e,r)=>(t.pending_buf[t.d_buf+2*t.last_lit]=e>>>8&255,t.pending_buf[t.d_buf+2*t.last_lit+1]=255&e,t.pending_buf[t.l_buf+t.last_lit]=255&r,t.last_lit++,0===e?t.dyn_ltree[2*r]++:(t.matches++,e--,t.dyn_ltree[2*(Rt[r]+yt+1)]++,t.dyn_dtree[2*Nt(e)]++),t.last_lit===t.lit_bufsize-1),_tr_align:t=>{Dt(t,2,3),Lt(t,256,Bt),(t=>{16===t.bi_valid?(Mt(t,t.bi_buf),t.bi_buf=0,t.bi_valid=0):t.bi_valid>=8&&(t.pending_buf[t.pending++]=255&t.bi_buf,t.bi_buf>>=8,t.bi_valid-=8)})(t)}};var ee=(t,e,r,n)=>{let i=65535&t|0,s=t>>>16&65535|0,a=0;for(;0!==r;){a=r>2e3?2e3:r,r-=a;do{i=i+e[n++]|0,s=s+i|0}while(--a);i%=65521,s%=65521}return i|s<<16|0};const re=new Uint32Array((()=>{let t,e=[];for(var r=0;r<256;r++){t=r;for(var n=0;n<8;n++)t=1&t?3988292384^t>>>1:t>>>1;e[r]=t}return e})());var ne=(t,e,r,n)=>{const i=re,s=n+r;t^=-1;for(let r=n;r<s;r++)t=t>>>8^i[255&(t^e[r])];return-1^t},ie={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"},se={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_MEM_ERROR:-4,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8};const{_tr_init:ae,_tr_stored_block:oe,_tr_flush_block:ce,_tr_tally:fe,_tr_align:le}=te,{Z_NO_FLUSH:he,Z_PARTIAL_FLUSH:ue,Z_FULL_FLUSH:de,Z_FINISH:pe,Z_BLOCK:ge,Z_OK:me,Z_STREAM_END:we,Z_STREAM_ERROR:_e,Z_DATA_ERROR:ye,Z_BUF_ERROR:be,Z_DEFAULT_COMPRESSION:ve,Z_FILTERED:ke,Z_HUFFMAN_ONLY:xe,Z_RLE:Ee,Z_FIXED:Ae,Z_DEFAULT_STRATEGY:Se,Z_UNKNOWN:Be,Z_DEFLATED:$e}=se,Ue=258,Re=262,Ie=103,Oe=113,Ce=666,ze=(t,e)=>(t.msg=ie[e],e),Te=t=>(t<<1)-(t>4?9:0),Pe=t=>{let e=t.length;for(;--e>=0;)t[e]=0};let je=(t,e,r)=>(e<<t.hash_shift^r)&t.hash_mask;const Ne=t=>{const e=t.state;let r=e.pending;r>t.avail_out&&(r=t.avail_out),0!==r&&(t.output.set(e.pending_buf.subarray(e.pending_out,e.pending_out+r),t.next_out),t.next_out+=r,e.pending_out+=r,t.total_out+=r,t.avail_out-=r,e.pending-=r,0===e.pending&&(e.pending_out=0))},Me=(t,e)=>{ce(t,t.block_start>=0?t.block_start:-1,t.strstart-t.block_start,e),t.block_start=t.strstart,Ne(t.strm)},De=(t,e)=>{t.pending_buf[t.pending++]=e},Le=(t,e)=>{t.pending_buf[t.pending++]=e>>>8&255,t.pending_buf[t.pending++]=255&e},Fe=(t,e,r,n)=>{let i=t.avail_in;return i>n&&(i=n),0===i?0:(t.avail_in-=i,e.set(t.input.subarray(t.next_in,t.next_in+i),r),1===t.state.wrap?t.adler=ee(t.adler,e,i,r):2===t.state.wrap&&(t.adler=ne(t.adler,e,i,r)),t.next_in+=i,t.total_in+=i,i)},Ze=(t,e)=>{let r,n,i=t.max_chain_length,s=t.strstart,a=t.prev_length,o=t.nice_match;const c=t.strstart>t.w_size-Re?t.strstart-(t.w_size-Re):0,f=t.window,l=t.w_mask,h=t.prev,u=t.strstart+Ue;let d=f[s+a-1],p=f[s+a];t.prev_length>=t.good_match&&(i>>=2),o>t.lookahead&&(o=t.lookahead);do{if(r=e,f[r+a]===p&&f[r+a-1]===d&&f[r]===f[s]&&f[++r]===f[s+1]){s+=2,r++;do{}while(f[++s]===f[++r]&&f[++s]===f[++r]&&f[++s]===f[++r]&&f[++s]===f[++r]&&f[++s]===f[++r]&&f[++s]===f[++r]&&f[++s]===f[++r]&&f[++s]===f[++r]&&s<u);if(n=Ue-(u-s),s=u-Ue,n>a){if(t.match_start=e,a=n,n>=o)break;d=f[s+a-1],p=f[s+a]}}}while((e=h[e&l])>c&&0!=--i);return a<=t.lookahead?a:t.lookahead},Ge=t=>{const e=t.w_size;let r,n,i,s,a;do{if(s=t.window_size-t.lookahead-t.strstart,t.strstart>=e+(e-Re)){t.window.set(t.window.subarray(e,e+e),0),t.match_start-=e,t.strstart-=e,t.block_start-=e,n=t.hash_size,r=n;do{i=t.head[--r],t.head[r]=i>=e?i-e:0}while(--n);n=e,r=n;do{i=t.prev[--r],t.prev[r]=i>=e?i-e:0}while(--n);s+=e}if(0===t.strm.avail_in)break;if(n=Fe(t.strm,t.window,t.strstart+t.lookahead,s),t.lookahead+=n,t.lookahead+t.insert>=3)for(a=t.strstart-t.insert,t.ins_h=t.window[a],t.ins_h=je(t,t.ins_h,t.window[a+1]);t.insert&&(t.ins_h=je(t,t.ins_h,t.window[a+3-1]),t.prev[a&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=a,a++,t.insert--,!(t.lookahead+t.insert<3)););}while(t.lookahead<Re&&0!==t.strm.avail_in)},He=(t,e)=>{let r,n;for(;;){if(t.lookahead<Re){if(Ge(t),t.lookahead<Re&&e===he)return 1;if(0===t.lookahead)break}if(r=0,t.lookahead>=3&&(t.ins_h=je(t,t.ins_h,t.window[t.strstart+3-1]),r=t.prev[t.strstart&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=t.strstart),0!==r&&t.strstart-r<=t.w_size-Re&&(t.match_length=Ze(t,r)),t.match_length>=3)if(n=fe(t,t.strstart-t.match_start,t.match_length-3),t.lookahead-=t.match_length,t.match_length<=t.max_lazy_match&&t.lookahead>=3){t.match_length--;do{t.strstart++,t.ins_h=je(t,t.ins_h,t.window[t.strstart+3-1]),r=t.prev[t.strstart&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=t.strstart}while(0!=--t.match_length);t.strstart++}else t.strstart+=t.match_length,t.match_length=0,t.ins_h=t.window[t.strstart],t.ins_h=je(t,t.ins_h,t.window[t.strstart+1]);else n=fe(t,0,t.window[t.strstart]),t.lookahead--,t.strstart++;if(n&&(Me(t,!1),0===t.strm.avail_out))return 1}return t.insert=t.strstart<2?t.strstart:2,e===pe?(Me(t,!0),0===t.strm.avail_out?3:4):t.last_lit&&(Me(t,!1),0===t.strm.avail_out)?1:2},qe=(t,e)=>{let r,n,i;for(;;){if(t.lookahead<Re){if(Ge(t),t.lookahead<Re&&e===he)return 1;if(0===t.lookahead)break}if(r=0,t.lookahead>=3&&(t.ins_h=je(t,t.ins_h,t.window[t.strstart+3-1]),r=t.prev[t.strstart&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=t.strstart),t.prev_length=t.match_length,t.prev_match=t.match_start,t.match_length=2,0!==r&&t.prev_length<t.max_lazy_match&&t.strstart-r<=t.w_size-Re&&(t.match_length=Ze(t,r),t.match_length<=5&&(t.strategy===ke||3===t.match_length&&t.strstart-t.match_start>4096)&&(t.match_length=2)),t.prev_length>=3&&t.match_length<=t.prev_length){i=t.strstart+t.lookahead-3,n=fe(t,t.strstart-1-t.prev_match,t.prev_length-3),t.lookahead-=t.prev_length-1,t.prev_length-=2;do{++t.strstart<=i&&(t.ins_h=je(t,t.ins_h,t.window[t.strstart+3-1]),r=t.prev[t.strstart&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=t.strstart)}while(0!=--t.prev_length);if(t.match_available=0,t.match_length=2,t.strstart++,n&&(Me(t,!1),0===t.strm.avail_out))return 1}else if(t.match_available){if(n=fe(t,0,t.window[t.strstart-1]),n&&Me(t,!1),t.strstart++,t.lookahead--,0===t.strm.avail_out)return 1}else t.match_available=1,t.strstart++,t.lookahead--}return t.match_available&&(n=fe(t,0,t.window[t.strstart-1]),t.match_available=0),t.insert=t.strstart<2?t.strstart:2,e===pe?(Me(t,!0),0===t.strm.avail_out?3:4):t.last_lit&&(Me(t,!1),0===t.strm.avail_out)?1:2};function We(t,e,r,n,i){this.good_length=t,this.max_lazy=e,this.nice_length=r,this.max_chain=n,this.func=i}const Ke=[new We(0,0,0,0,((t,e)=>{let r=65535;for(r>t.pending_buf_size-5&&(r=t.pending_buf_size-5);;){if(t.lookahead<=1){if(Ge(t),0===t.lookahead&&e===he)return 1;if(0===t.lookahead)break}t.strstart+=t.lookahead,t.lookahead=0;const n=t.block_start+r;if((0===t.strstart||t.strstart>=n)&&(t.lookahead=t.strstart-n,t.strstart=n,Me(t,!1),0===t.strm.avail_out))return 1;if(t.strstart-t.block_start>=t.w_size-Re&&(Me(t,!1),0===t.strm.avail_out))return 1}return t.insert=0,e===pe?(Me(t,!0),0===t.strm.avail_out?3:4):(t.strstart>t.block_start&&(Me(t,!1),t.strm.avail_out),1)})),new We(4,4,8,4,He),new We(4,5,16,8,He),new We(4,6,32,32,He),new We(4,4,16,16,qe),new We(8,16,32,32,qe),new We(8,16,128,128,qe),new We(8,32,128,256,qe),new We(32,128,258,1024,qe),new We(32,258,258,4096,qe)];function Ye(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=$e,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new Uint16Array(1146),this.dyn_dtree=new Uint16Array(122),this.bl_tree=new Uint16Array(78),Pe(this.dyn_ltree),Pe(this.dyn_dtree),Pe(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new Uint16Array(16),this.heap=new Uint16Array(573),Pe(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new Uint16Array(573),Pe(this.depth),this.l_buf=0,this.lit_bufsize=0,this.last_lit=0,this.d_buf=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}const Xe=t=>{if(!t||!t.state)return ze(t,_e);t.total_in=t.total_out=0,t.data_type=Be;const e=t.state;return e.pending=0,e.pending_out=0,e.wrap<0&&(e.wrap=-e.wrap),e.status=e.wrap?42:Oe,t.adler=2===e.wrap?0:1,e.last_flush=he,ae(e),me},Ve=t=>{const e=Xe(t);var r;return e===me&&((r=t.state).window_size=2*r.w_size,Pe(r.head),r.max_lazy_match=Ke[r.level].max_lazy,r.good_match=Ke[r.level].good_length,r.nice_match=Ke[r.level].nice_length,r.max_chain_length=Ke[r.level].max_chain,r.strstart=0,r.block_start=0,r.lookahead=0,r.insert=0,r.match_length=r.prev_length=2,r.match_available=0,r.ins_h=0),e},Je=(t,e,r,n,i,s)=>{if(!t)return _e;let a=1;if(e===ve&&(e=6),n<0?(a=0,n=-n):n>15&&(a=2,n-=16),i<1||i>9||r!==$e||n<8||n>15||e<0||e>9||s<0||s>Ae)return ze(t,_e);8===n&&(n=9);const o=new Ye;return t.state=o,o.strm=t,o.wrap=a,o.gzhead=null,o.w_bits=n,o.w_size=1<<o.w_bits,o.w_mask=o.w_size-1,o.hash_bits=i+7,o.hash_size=1<<o.hash_bits,o.hash_mask=o.hash_size-1,o.hash_shift=~~((o.hash_bits+3-1)/3),o.window=new Uint8Array(2*o.w_size),o.head=new Uint16Array(o.hash_size),o.prev=new Uint16Array(o.w_size),o.lit_bufsize=1<<i+6,o.pending_buf_size=4*o.lit_bufsize,o.pending_buf=new Uint8Array(o.pending_buf_size),o.d_buf=1*o.lit_bufsize,o.l_buf=3*o.lit_bufsize,o.level=e,o.strategy=s,o.method=r,Ve(t)};var Qe={deflateInit:(t,e)=>Je(t,e,$e,15,8,Se),deflateInit2:Je,deflateReset:Ve,deflateResetKeep:Xe,deflateSetHeader:(t,e)=>t&&t.state?2!==t.state.wrap?_e:(t.state.gzhead=e,me):_e,deflate:(t,e)=>{let r,n;if(!t||!t.state||e>ge||e<0)return t?ze(t,_e):_e;const i=t.state;if(!t.output||!t.input&&0!==t.avail_in||i.status===Ce&&e!==pe)return ze(t,0===t.avail_out?be:_e);i.strm=t;const s=i.last_flush;if(i.last_flush=e,42===i.status)if(2===i.wrap)t.adler=0,De(i,31),De(i,139),De(i,8),i.gzhead?(De(i,(i.gzhead.text?1:0)+(i.gzhead.hcrc?2:0)+(i.gzhead.extra?4:0)+(i.gzhead.name?8:0)+(i.gzhead.comment?16:0)),De(i,255&i.gzhead.time),De(i,i.gzhead.time>>8&255),De(i,i.gzhead.time>>16&255),De(i,i.gzhead.time>>24&255),De(i,9===i.level?2:i.strategy>=xe||i.level<2?4:0),De(i,255&i.gzhead.os),i.gzhead.extra&&i.gzhead.extra.length&&(De(i,255&i.gzhead.extra.length),De(i,i.gzhead.extra.length>>8&255)),i.gzhead.hcrc&&(t.adler=ne(t.adler,i.pending_buf,i.pending,0)),i.gzindex=0,i.status=69):(De(i,0),De(i,0),De(i,0),De(i,0),De(i,0),De(i,9===i.level?2:i.strategy>=xe||i.level<2?4:0),De(i,3),i.status=Oe);else{let e=$e+(i.w_bits-8<<4)<<8,r=-1;r=i.strategy>=xe||i.level<2?0:i.level<6?1:6===i.level?2:3,e|=r<<6,0!==i.strstart&&(e|=32),e+=31-e%31,i.status=Oe,Le(i,e),0!==i.strstart&&(Le(i,t.adler>>>16),Le(i,65535&t.adler)),t.adler=1}if(69===i.status)if(i.gzhead.extra){for(r=i.pending;i.gzindex<(65535&i.gzhead.extra.length)&&(i.pending!==i.pending_buf_size||(i.gzhead.hcrc&&i.pending>r&&(t.adler=ne(t.adler,i.pending_buf,i.pending-r,r)),Ne(t),r=i.pending,i.pending!==i.pending_buf_size));)De(i,255&i.gzhead.extra[i.gzindex]),i.gzindex++;i.gzhead.hcrc&&i.pending>r&&(t.adler=ne(t.adler,i.pending_buf,i.pending-r,r)),i.gzindex===i.gzhead.extra.length&&(i.gzindex=0,i.status=73)}else i.status=73;if(73===i.status)if(i.gzhead.name){r=i.pending;do{if(i.pending===i.pending_buf_size&&(i.gzhead.hcrc&&i.pending>r&&(t.adler=ne(t.adler,i.pending_buf,i.pending-r,r)),Ne(t),r=i.pending,i.pending===i.pending_buf_size)){n=1;break}n=i.gzindex<i.gzhead.name.length?255&i.gzhead.name.charCodeAt(i.gzindex++):0,De(i,n)}while(0!==n);i.gzhead.hcrc&&i.pending>r&&(t.adler=ne(t.adler,i.pending_buf,i.pending-r,r)),0===n&&(i.gzindex=0,i.status=91)}else i.status=91;if(91===i.status)if(i.gzhead.comment){r=i.pending;do{if(i.pending===i.pending_buf_size&&(i.gzhead.hcrc&&i.pending>r&&(t.adler=ne(t.adler,i.pending_buf,i.pending-r,r)),Ne(t),r=i.pending,i.pending===i.pending_buf_size)){n=1;break}n=i.gzindex<i.gzhead.comment.length?255&i.gzhead.comment.charCodeAt(i.gzindex++):0,De(i,n)}while(0!==n);i.gzhead.hcrc&&i.pending>r&&(t.adler=ne(t.adler,i.pending_buf,i.pending-r,r)),0===n&&(i.status=Ie)}else i.status=Ie;if(i.status===Ie&&(i.gzhead.hcrc?(i.pending+2>i.pending_buf_size&&Ne(t),i.pending+2<=i.pending_buf_size&&(De(i,255&t.adler),De(i,t.adler>>8&255),t.adler=0,i.status=Oe)):i.status=Oe),0!==i.pending){if(Ne(t),0===t.avail_out)return i.last_flush=-1,me}else if(0===t.avail_in&&Te(e)<=Te(s)&&e!==pe)return ze(t,be);if(i.status===Ce&&0!==t.avail_in)return ze(t,be);if(0!==t.avail_in||0!==i.lookahead||e!==he&&i.status!==Ce){let r=i.strategy===xe?((t,e)=>{let r;for(;;){if(0===t.lookahead&&(Ge(t),0===t.lookahead)){if(e===he)return 1;break}if(t.match_length=0,r=fe(t,0,t.window[t.strstart]),t.lookahead--,t.strstart++,r&&(Me(t,!1),0===t.strm.avail_out))return 1}return t.insert=0,e===pe?(Me(t,!0),0===t.strm.avail_out?3:4):t.last_lit&&(Me(t,!1),0===t.strm.avail_out)?1:2})(i,e):i.strategy===Ee?((t,e)=>{let r,n,i,s;const a=t.window;for(;;){if(t.lookahead<=Ue){if(Ge(t),t.lookahead<=Ue&&e===he)return 1;if(0===t.lookahead)break}if(t.match_length=0,t.lookahead>=3&&t.strstart>0&&(i=t.strstart-1,n=a[i],n===a[++i]&&n===a[++i]&&n===a[++i])){s=t.strstart+Ue;do{}while(n===a[++i]&&n===a[++i]&&n===a[++i]&&n===a[++i]&&n===a[++i]&&n===a[++i]&&n===a[++i]&&n===a[++i]&&i<s);t.match_length=Ue-(s-i),t.match_length>t.lookahead&&(t.match_length=t.lookahead)}if(t.match_length>=3?(r=fe(t,1,t.match_length-3),t.lookahead-=t.match_length,t.strstart+=t.match_length,t.match_length=0):(r=fe(t,0,t.window[t.strstart]),t.lookahead--,t.strstart++),r&&(Me(t,!1),0===t.strm.avail_out))return 1}return t.insert=0,e===pe?(Me(t,!0),0===t.strm.avail_out?3:4):t.last_lit&&(Me(t,!1),0===t.strm.avail_out)?1:2})(i,e):Ke[i.level].func(i,e);if(3!==r&&4!==r||(i.status=Ce),1===r||3===r)return 0===t.avail_out&&(i.last_flush=-1),me;if(2===r&&(e===ue?le(i):e!==ge&&(oe(i,0,0,!1),e===de&&(Pe(i.head),0===i.lookahead&&(i.strstart=0,i.block_start=0,i.insert=0))),Ne(t),0===t.avail_out))return i.last_flush=-1,me}return e!==pe?me:i.wrap<=0?we:(2===i.wrap?(De(i,255&t.adler),De(i,t.adler>>8&255),De(i,t.adler>>16&255),De(i,t.adler>>24&255),De(i,255&t.total_in),De(i,t.total_in>>8&255),De(i,t.total_in>>16&255),De(i,t.total_in>>24&255)):(Le(i,t.adler>>>16),Le(i,65535&t.adler)),Ne(t),i.wrap>0&&(i.wrap=-i.wrap),0!==i.pending?me:we)},deflateEnd:t=>{if(!t||!t.state)return _e;const e=t.state.status;return 42!==e&&69!==e&&73!==e&&91!==e&&e!==Ie&&e!==Oe&&e!==Ce?ze(t,_e):(t.state=null,e===Oe?ze(t,ye):me)},deflateSetDictionary:(t,e)=>{let r=e.length;if(!t||!t.state)return _e;const n=t.state,i=n.wrap;if(2===i||1===i&&42!==n.status||n.lookahead)return _e;if(1===i&&(t.adler=ee(t.adler,e,r,0)),n.wrap=0,r>=n.w_size){0===i&&(Pe(n.head),n.strstart=0,n.block_start=0,n.insert=0);let t=new Uint8Array(n.w_size);t.set(e.subarray(r-n.w_size,r),0),e=t,r=n.w_size}const s=t.avail_in,a=t.next_in,o=t.input;for(t.avail_in=r,t.next_in=0,t.input=e,Ge(n);n.lookahead>=3;){let t=n.strstart,e=n.lookahead-2;do{n.ins_h=je(n,n.ins_h,n.window[t+3-1]),n.prev[t&n.w_mask]=n.head[n.ins_h],n.head[n.ins_h]=t,t++}while(--e);n.strstart=t,n.lookahead=2,Ge(n)}return n.strstart+=n.lookahead,n.block_start=n.strstart,n.insert=n.lookahead,n.lookahead=0,n.match_length=n.prev_length=2,n.match_available=0,t.next_in=a,t.input=o,t.avail_in=s,n.wrap=i,me},deflateInfo:"pako deflate (from Nodeca project)"};const tr=(t,e)=>Object.prototype.hasOwnProperty.call(t,e);var er=function(t){const e=Array.prototype.slice.call(arguments,1);for(;e.length;){const r=e.shift();if(r){if("object"!=typeof r)throw new TypeError(r+"must be non-object");for(const e in r)tr(r,e)&&(t[e]=r[e])}}return t},rr=t=>{let e=0;for(let r=0,n=t.length;r<n;r++)e+=t[r].length;const r=new Uint8Array(e);for(let e=0,n=0,i=t.length;e<i;e++){let i=t[e];r.set(i,n),n+=i.length}return r};let nr=!0;try{String.fromCharCode.apply(null,new Uint8Array(1))}catch(t){nr=!1}const ir=new Uint8Array(256);for(let t=0;t<256;t++)ir[t]=t>=252?6:t>=248?5:t>=240?4:t>=224?3:t>=192?2:1;ir[254]=ir[254]=1;var sr=t=>{let e,r,n,i,s,a=t.length,o=0;for(i=0;i<a;i++)r=t.charCodeAt(i),55296==(64512&r)&&i+1<a&&(n=t.charCodeAt(i+1),56320==(64512&n)&&(r=65536+(r-55296<<10)+(n-56320),i++)),o+=r<128?1:r<2048?2:r<65536?3:4;for(e=new Uint8Array(o),s=0,i=0;s<o;i++)r=t.charCodeAt(i),55296==(64512&r)&&i+1<a&&(n=t.charCodeAt(i+1),56320==(64512&n)&&(r=65536+(r-55296<<10)+(n-56320),i++)),r<128?e[s++]=r:r<2048?(e[s++]=192|r>>>6,e[s++]=128|63&r):r<65536?(e[s++]=224|r>>>12,e[s++]=128|r>>>6&63,e[s++]=128|63&r):(e[s++]=240|r>>>18,e[s++]=128|r>>>12&63,e[s++]=128|r>>>6&63,e[s++]=128|63&r);return e},ar=(t,e)=>{let r,n;const i=e||t.length,s=new Array(2*i);for(n=0,r=0;r<i;){let e=t[r++];if(e<128){s[n++]=e;continue}let a=ir[e];if(a>4)s[n++]=65533,r+=a-1;else{for(e&=2===a?31:3===a?15:7;a>1&&r<i;)e=e<<6|63&t[r++],a--;a>1?s[n++]=65533:e<65536?s[n++]=e:(e-=65536,s[n++]=55296|e>>10&1023,s[n++]=56320|1023&e)}}return((t,e)=>{if(e<65534&&t.subarray&&nr)return String.fromCharCode.apply(null,t.length===e?t:t.subarray(0,e));let r="";for(let n=0;n<e;n++)r+=String.fromCharCode(t[n]);return r})(s,n)},or=(t,e)=>{(e=e||t.length)>t.length&&(e=t.length);let r=e-1;for(;r>=0&&128==(192&t[r]);)r--;return r<0||0===r?e:r+ir[t[r]]>e?r:e};var cr=function(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0};const fr=Object.prototype.toString,{Z_NO_FLUSH:lr,Z_SYNC_FLUSH:hr,Z_FULL_FLUSH:ur,Z_FINISH:dr,Z_OK:pr,Z_STREAM_END:gr,Z_DEFAULT_COMPRESSION:mr,Z_DEFAULT_STRATEGY:wr,Z_DEFLATED:_r}=se;function yr(t){this.options=er({level:mr,method:_r,chunkSize:16384,windowBits:15,memLevel:8,strategy:wr},t||{});let e=this.options;e.raw&&e.windowBits>0?e.windowBits=-e.windowBits:e.gzip&&e.windowBits>0&&e.windowBits<16&&(e.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new cr,this.strm.avail_out=0;let r=Qe.deflateInit2(this.strm,e.level,e.method,e.windowBits,e.memLevel,e.strategy);if(r!==pr)throw new Error(ie[r]);if(e.header&&Qe.deflateSetHeader(this.strm,e.header),e.dictionary){let t;if(t="string"==typeof e.dictionary?sr(e.dictionary):"[object ArrayBuffer]"===fr.call(e.dictionary)?new Uint8Array(e.dictionary):e.dictionary,r=Qe.deflateSetDictionary(this.strm,t),r!==pr)throw new Error(ie[r]);this._dict_set=!0}}function br(t,e){const r=new yr(e);if(r.push(t,!0),r.err)throw r.msg||ie[r.err];return r.result}yr.prototype.push=function(t,e){const r=this.strm,n=this.options.chunkSize;let i,s;if(this.ended)return!1;for(s=e===~~e?e:!0===e?dr:lr,"string"==typeof t?r.input=sr(t):"[object ArrayBuffer]"===fr.call(t)?r.input=new Uint8Array(t):r.input=t,r.next_in=0,r.avail_in=r.input.length;;)if(0===r.avail_out&&(r.output=new Uint8Array(n),r.next_out=0,r.avail_out=n),(s===hr||s===ur)&&r.avail_out<=6)this.onData(r.output.subarray(0,r.next_out)),r.avail_out=0;else{if(i=Qe.deflate(r,s),i===gr)return r.next_out>0&&this.onData(r.output.subarray(0,r.next_out)),i=Qe.deflateEnd(this.strm),this.onEnd(i),this.ended=!0,i===pr;if(0!==r.avail_out){if(s>0&&r.next_out>0)this.onData(r.output.subarray(0,r.next_out)),r.avail_out=0;else if(0===r.avail_in)break}else this.onData(r.output)}return!0},yr.prototype.onData=function(t){this.chunks.push(t)},yr.prototype.onEnd=function(t){t===pr&&(this.result=rr(this.chunks)),this.chunks=[],this.err=t,this.msg=this.strm.msg};var vr={Deflate:yr,deflate:br,deflateRaw:function(t,e){return(e=e||{}).raw=!0,br(t,e)},gzip:function(t,e){return(e=e||{}).gzip=!0,br(t,e)},constants:se};var kr=function(t,e){let r,n,i,s,a,o,c,f,l,h,u,d,p,g,m,w,_,y,b,v,k,x,E,A;const S=t.state;r=t.next_in,E=t.input,n=r+(t.avail_in-5),i=t.next_out,A=t.output,s=i-(e-t.avail_out),a=i+(t.avail_out-257),o=S.dmax,c=S.wsize,f=S.whave,l=S.wnext,h=S.window,u=S.hold,d=S.bits,p=S.lencode,g=S.distcode,m=(1<<S.lenbits)-1,w=(1<<S.distbits)-1;t:do{d<15&&(u+=E[r++]<<d,d+=8,u+=E[r++]<<d,d+=8),_=p[u&m];e:for(;;){if(y=_>>>24,u>>>=y,d-=y,y=_>>>16&255,0===y)A[i++]=65535&_;else{if(!(16&y)){if(0==(64&y)){_=p[(65535&_)+(u&(1<<y)-1)];continue e}if(32&y){S.mode=12;break t}t.msg="invalid literal/length code",S.mode=30;break t}b=65535&_,y&=15,y&&(d<y&&(u+=E[r++]<<d,d+=8),b+=u&(1<<y)-1,u>>>=y,d-=y),d<15&&(u+=E[r++]<<d,d+=8,u+=E[r++]<<d,d+=8),_=g[u&w];r:for(;;){if(y=_>>>24,u>>>=y,d-=y,y=_>>>16&255,!(16&y)){if(0==(64&y)){_=g[(65535&_)+(u&(1<<y)-1)];continue r}t.msg="invalid distance code",S.mode=30;break t}if(v=65535&_,y&=15,d<y&&(u+=E[r++]<<d,d+=8,d<y&&(u+=E[r++]<<d,d+=8)),v+=u&(1<<y)-1,v>o){t.msg="invalid distance too far back",S.mode=30;break t}if(u>>>=y,d-=y,y=i-s,v>y){if(y=v-y,y>f&&S.sane){t.msg="invalid distance too far back",S.mode=30;break t}if(k=0,x=h,0===l){if(k+=c-y,y<b){b-=y;do{A[i++]=h[k++]}while(--y);k=i-v,x=A}}else if(l<y){if(k+=c+l-y,y-=l,y<b){b-=y;do{A[i++]=h[k++]}while(--y);if(k=0,l<b){y=l,b-=y;do{A[i++]=h[k++]}while(--y);k=i-v,x=A}}}else if(k+=l-y,y<b){b-=y;do{A[i++]=h[k++]}while(--y);k=i-v,x=A}for(;b>2;)A[i++]=x[k++],A[i++]=x[k++],A[i++]=x[k++],b-=3;b&&(A[i++]=x[k++],b>1&&(A[i++]=x[k++]))}else{k=i-v;do{A[i++]=A[k++],A[i++]=A[k++],A[i++]=A[k++],b-=3}while(b>2);b&&(A[i++]=A[k++],b>1&&(A[i++]=A[k++]))}break}}break}}while(r<n&&i<a);b=d>>3,r-=b,d-=b<<3,u&=(1<<d)-1,t.next_in=r,t.next_out=i,t.avail_in=r<n?n-r+5:5-(r-n),t.avail_out=i<a?a-i+257:257-(i-a),S.hold=u,S.bits=d};const xr=15,Er=new Uint16Array([3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0]),Ar=new Uint8Array([16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78]),Sr=new Uint16Array([1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0]),Br=new Uint8Array([16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64]);var $r=(t,e,r,n,i,s,a,o)=>{const c=o.bits;let f,l,h,u,d,p,g=0,m=0,w=0,_=0,y=0,b=0,v=0,k=0,x=0,E=0,A=null,S=0;const B=new Uint16Array(16),$=new Uint16Array(16);let U,R,I,O=null,C=0;for(g=0;g<=xr;g++)B[g]=0;for(m=0;m<n;m++)B[e[r+m]]++;for(y=c,_=xr;_>=1&&0===B[_];_--);if(y>_&&(y=_),0===_)return i[s++]=20971520,i[s++]=20971520,o.bits=1,0;for(w=1;w<_&&0===B[w];w++);for(y<w&&(y=w),k=1,g=1;g<=xr;g++)if(k<<=1,k-=B[g],k<0)return-1;if(k>0&&(0===t||1!==_))return-1;for($[1]=0,g=1;g<xr;g++)$[g+1]=$[g]+B[g];for(m=0;m<n;m++)0!==e[r+m]&&(a[$[e[r+m]]++]=m);if(0===t?(A=O=a,p=19):1===t?(A=Er,S-=257,O=Ar,C-=257,p=256):(A=Sr,O=Br,p=-1),E=0,m=0,g=w,d=s,b=y,v=0,h=-1,x=1<<y,u=x-1,1===t&&x>852||2===t&&x>592)return 1;for(;;){U=g-v,a[m]<p?(R=0,I=a[m]):a[m]>p?(R=O[C+a[m]],I=A[S+a[m]]):(R=96,I=0),f=1<<g-v,l=1<<b,w=l;do{l-=f,i[d+(E>>v)+l]=U<<24|R<<16|I|0}while(0!==l);for(f=1<<g-1;E&f;)f>>=1;if(0!==f?(E&=f-1,E+=f):E=0,m++,0==--B[g]){if(g===_)break;g=e[r+a[m]]}if(g>y&&(E&u)!==h){for(0===v&&(v=y),d+=w,b=g-v,k=1<<b;b+v<_&&(k-=B[b+v],!(k<=0));)b++,k<<=1;if(x+=1<<b,1===t&&x>852||2===t&&x>592)return 1;h=E&u,i[h]=y<<24|b<<16|d-s|0}}return 0!==E&&(i[d+E]=g-v<<24|64<<16|0),o.bits=y,0};const{Z_FINISH:Ur,Z_BLOCK:Rr,Z_TREES:Ir,Z_OK:Or,Z_STREAM_END:Cr,Z_NEED_DICT:zr,Z_STREAM_ERROR:Tr,Z_DATA_ERROR:Pr,Z_MEM_ERROR:jr,Z_BUF_ERROR:Nr,Z_DEFLATED:Mr}=se,Dr=12,Lr=30,Fr=t=>(t>>>24&255)+(t>>>8&65280)+((65280&t)<<8)+((255&t)<<24);function Zr(){this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new Uint16Array(320),this.work=new Uint16Array(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}const Gr=t=>{if(!t||!t.state)return Tr;const e=t.state;return t.total_in=t.total_out=e.total=0,t.msg="",e.wrap&&(t.adler=1&e.wrap),e.mode=1,e.last=0,e.havedict=0,e.dmax=32768,e.head=null,e.hold=0,e.bits=0,e.lencode=e.lendyn=new Int32Array(852),e.distcode=e.distdyn=new Int32Array(592),e.sane=1,e.back=-1,Or},Hr=t=>{if(!t||!t.state)return Tr;const e=t.state;return e.wsize=0,e.whave=0,e.wnext=0,Gr(t)},qr=(t,e)=>{let r;if(!t||!t.state)return Tr;const n=t.state;return e<0?(r=0,e=-e):(r=1+(e>>4),e<48&&(e&=15)),e&&(e<8||e>15)?Tr:(null!==n.window&&n.wbits!==e&&(n.window=null),n.wrap=r,n.wbits=e,Hr(t))},Wr=(t,e)=>{if(!t)return Tr;const r=new Zr;t.state=r,r.window=null;const n=qr(t,e);return n!==Or&&(t.state=null),n};let Kr,Yr,Xr=!0;const Vr=t=>{if(Xr){Kr=new Int32Array(512),Yr=new Int32Array(32);let e=0;for(;e<144;)t.lens[e++]=8;for(;e<256;)t.lens[e++]=9;for(;e<280;)t.lens[e++]=7;for(;e<288;)t.lens[e++]=8;for($r(1,t.lens,0,288,Kr,0,t.work,{bits:9}),e=0;e<32;)t.lens[e++]=5;$r(2,t.lens,0,32,Yr,0,t.work,{bits:5}),Xr=!1}t.lencode=Kr,t.lenbits=9,t.distcode=Yr,t.distbits=5},Jr=(t,e,r,n)=>{let i;const s=t.state;return null===s.window&&(s.wsize=1<<s.wbits,s.wnext=0,s.whave=0,s.window=new Uint8Array(s.wsize)),n>=s.wsize?(s.window.set(e.subarray(r-s.wsize,r),0),s.wnext=0,s.whave=s.wsize):(i=s.wsize-s.wnext,i>n&&(i=n),s.window.set(e.subarray(r-n,r-n+i),s.wnext),(n-=i)?(s.window.set(e.subarray(r-n,r),0),s.wnext=n,s.whave=s.wsize):(s.wnext+=i,s.wnext===s.wsize&&(s.wnext=0),s.whave<s.wsize&&(s.whave+=i))),0};var Qr={inflateReset:Hr,inflateReset2:qr,inflateResetKeep:Gr,inflateInit:t=>Wr(t,15),inflateInit2:Wr,inflate:(t,e)=>{let r,n,i,s,a,o,c,f,l,h,u,d,p,g,m,w,_,y,b,v,k,x,E=0;const A=new Uint8Array(4);let S,B;const $=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]);if(!t||!t.state||!t.output||!t.input&&0!==t.avail_in)return Tr;r=t.state,r.mode===Dr&&(r.mode=13),a=t.next_out,i=t.output,c=t.avail_out,s=t.next_in,n=t.input,o=t.avail_in,f=r.hold,l=r.bits,h=o,u=c,x=Or;t:for(;;)switch(r.mode){case 1:if(0===r.wrap){r.mode=13;break}for(;l<16;){if(0===o)break t;o--,f+=n[s++]<<l,l+=8}if(2&r.wrap&&35615===f){r.check=0,A[0]=255&f,A[1]=f>>>8&255,r.check=ne(r.check,A,2,0),f=0,l=0,r.mode=2;break}if(r.flags=0,r.head&&(r.head.done=!1),!(1&r.wrap)||(((255&f)<<8)+(f>>8))%31){t.msg="incorrect header check",r.mode=Lr;break}if((15&f)!==Mr){t.msg="unknown compression method",r.mode=Lr;break}if(f>>>=4,l-=4,k=8+(15&f),0===r.wbits)r.wbits=k;else if(k>r.wbits){t.msg="invalid window size",r.mode=Lr;break}r.dmax=1<<r.wbits,t.adler=r.check=1,r.mode=512&f?10:Dr,f=0,l=0;break;case 2:for(;l<16;){if(0===o)break t;o--,f+=n[s++]<<l,l+=8}if(r.flags=f,(255&r.flags)!==Mr){t.msg="unknown compression method",r.mode=Lr;break}if(57344&r.flags){t.msg="unknown header flags set",r.mode=Lr;break}r.head&&(r.head.text=f>>8&1),512&r.flags&&(A[0]=255&f,A[1]=f>>>8&255,r.check=ne(r.check,A,2,0)),f=0,l=0,r.mode=3;case 3:for(;l<32;){if(0===o)break t;o--,f+=n[s++]<<l,l+=8}r.head&&(r.head.time=f),512&r.flags&&(A[0]=255&f,A[1]=f>>>8&255,A[2]=f>>>16&255,A[3]=f>>>24&255,r.check=ne(r.check,A,4,0)),f=0,l=0,r.mode=4;case 4:for(;l<16;){if(0===o)break t;o--,f+=n[s++]<<l,l+=8}r.head&&(r.head.xflags=255&f,r.head.os=f>>8),512&r.flags&&(A[0]=255&f,A[1]=f>>>8&255,r.check=ne(r.check,A,2,0)),f=0,l=0,r.mode=5;case 5:if(1024&r.flags){for(;l<16;){if(0===o)break t;o--,f+=n[s++]<<l,l+=8}r.length=f,r.head&&(r.head.extra_len=f),512&r.flags&&(A[0]=255&f,A[1]=f>>>8&255,r.check=ne(r.check,A,2,0)),f=0,l=0}else r.head&&(r.head.extra=null);r.mode=6;case 6:if(1024&r.flags&&(d=r.length,d>o&&(d=o),d&&(r.head&&(k=r.head.extra_len-r.length,r.head.extra||(r.head.extra=new Uint8Array(r.head.extra_len)),r.head.extra.set(n.subarray(s,s+d),k)),512&r.flags&&(r.check=ne(r.check,n,d,s)),o-=d,s+=d,r.length-=d),r.length))break t;r.length=0,r.mode=7;case 7:if(2048&r.flags){if(0===o)break t;d=0;do{k=n[s+d++],r.head&&k&&r.length<65536&&(r.head.name+=String.fromCharCode(k))}while(k&&d<o);if(512&r.flags&&(r.check=ne(r.check,n,d,s)),o-=d,s+=d,k)break t}else r.head&&(r.head.name=null);r.length=0,r.mode=8;case 8:if(4096&r.flags){if(0===o)break t;d=0;do{k=n[s+d++],r.head&&k&&r.length<65536&&(r.head.comment+=String.fromCharCode(k))}while(k&&d<o);if(512&r.flags&&(r.check=ne(r.check,n,d,s)),o-=d,s+=d,k)break t}else r.head&&(r.head.comment=null);r.mode=9;case 9:if(512&r.flags){for(;l<16;){if(0===o)break t;o--,f+=n[s++]<<l,l+=8}if(f!==(65535&r.check)){t.msg="header crc mismatch",r.mode=Lr;break}f=0,l=0}r.head&&(r.head.hcrc=r.flags>>9&1,r.head.done=!0),t.adler=r.check=0,r.mode=Dr;break;case 10:for(;l<32;){if(0===o)break t;o--,f+=n[s++]<<l,l+=8}t.adler=r.check=Fr(f),f=0,l=0,r.mode=11;case 11:if(0===r.havedict)return t.next_out=a,t.avail_out=c,t.next_in=s,t.avail_in=o,r.hold=f,r.bits=l,zr;t.adler=r.check=1,r.mode=Dr;case Dr:if(e===Rr||e===Ir)break t;case 13:if(r.last){f>>>=7&l,l-=7&l,r.mode=27;break}for(;l<3;){if(0===o)break t;o--,f+=n[s++]<<l,l+=8}switch(r.last=1&f,f>>>=1,l-=1,3&f){case 0:r.mode=14;break;case 1:if(Vr(r),r.mode=20,e===Ir){f>>>=2,l-=2;break t}break;case 2:r.mode=17;break;case 3:t.msg="invalid block type",r.mode=Lr}f>>>=2,l-=2;break;case 14:for(f>>>=7&l,l-=7&l;l<32;){if(0===o)break t;o--,f+=n[s++]<<l,l+=8}if((65535&f)!=(f>>>16^65535)){t.msg="invalid stored block lengths",r.mode=Lr;break}if(r.length=65535&f,f=0,l=0,r.mode=15,e===Ir)break t;case 15:r.mode=16;case 16:if(d=r.length,d){if(d>o&&(d=o),d>c&&(d=c),0===d)break t;i.set(n.subarray(s,s+d),a),o-=d,s+=d,c-=d,a+=d,r.length-=d;break}r.mode=Dr;break;case 17:for(;l<14;){if(0===o)break t;o--,f+=n[s++]<<l,l+=8}if(r.nlen=257+(31&f),f>>>=5,l-=5,r.ndist=1+(31&f),f>>>=5,l-=5,r.ncode=4+(15&f),f>>>=4,l-=4,r.nlen>286||r.ndist>30){t.msg="too many length or distance symbols",r.mode=Lr;break}r.have=0,r.mode=18;case 18:for(;r.have<r.ncode;){for(;l<3;){if(0===o)break t;o--,f+=n[s++]<<l,l+=8}r.lens[$[r.have++]]=7&f,f>>>=3,l-=3}for(;r.have<19;)r.lens[$[r.have++]]=0;if(r.lencode=r.lendyn,r.lenbits=7,S={bits:r.lenbits},x=$r(0,r.lens,0,19,r.lencode,0,r.work,S),r.lenbits=S.bits,x){t.msg="invalid code lengths set",r.mode=Lr;break}r.have=0,r.mode=19;case 19:for(;r.have<r.nlen+r.ndist;){for(;E=r.lencode[f&(1<<r.lenbits)-1],m=E>>>24,w=E>>>16&255,_=65535&E,!(m<=l);){if(0===o)break t;o--,f+=n[s++]<<l,l+=8}if(_<16)f>>>=m,l-=m,r.lens[r.have++]=_;else{if(16===_){for(B=m+2;l<B;){if(0===o)break t;o--,f+=n[s++]<<l,l+=8}if(f>>>=m,l-=m,0===r.have){t.msg="invalid bit length repeat",r.mode=Lr;break}k=r.lens[r.have-1],d=3+(3&f),f>>>=2,l-=2}else if(17===_){for(B=m+3;l<B;){if(0===o)break t;o--,f+=n[s++]<<l,l+=8}f>>>=m,l-=m,k=0,d=3+(7&f),f>>>=3,l-=3}else{for(B=m+7;l<B;){if(0===o)break t;o--,f+=n[s++]<<l,l+=8}f>>>=m,l-=m,k=0,d=11+(127&f),f>>>=7,l-=7}if(r.have+d>r.nlen+r.ndist){t.msg="invalid bit length repeat",r.mode=Lr;break}for(;d--;)r.lens[r.have++]=k}}if(r.mode===Lr)break;if(0===r.lens[256]){t.msg="invalid code -- missing end-of-block",r.mode=Lr;break}if(r.lenbits=9,S={bits:r.lenbits},x=$r(1,r.lens,0,r.nlen,r.lencode,0,r.work,S),r.lenbits=S.bits,x){t.msg="invalid literal/lengths set",r.mode=Lr;break}if(r.distbits=6,r.distcode=r.distdyn,S={bits:r.distbits},x=$r(2,r.lens,r.nlen,r.ndist,r.distcode,0,r.work,S),r.distbits=S.bits,x){t.msg="invalid distances set",r.mode=Lr;break}if(r.mode=20,e===Ir)break t;case 20:r.mode=21;case 21:if(o>=6&&c>=258){t.next_out=a,t.avail_out=c,t.next_in=s,t.avail_in=o,r.hold=f,r.bits=l,kr(t,u),a=t.next_out,i=t.output,c=t.avail_out,s=t.next_in,n=t.input,o=t.avail_in,f=r.hold,l=r.bits,r.mode===Dr&&(r.back=-1);break}for(r.back=0;E=r.lencode[f&(1<<r.lenbits)-1],m=E>>>24,w=E>>>16&255,_=65535&E,!(m<=l);){if(0===o)break t;o--,f+=n[s++]<<l,l+=8}if(w&&0==(240&w)){for(y=m,b=w,v=_;E=r.lencode[v+((f&(1<<y+b)-1)>>y)],m=E>>>24,w=E>>>16&255,_=65535&E,!(y+m<=l);){if(0===o)break t;o--,f+=n[s++]<<l,l+=8}f>>>=y,l-=y,r.back+=y}if(f>>>=m,l-=m,r.back+=m,r.length=_,0===w){r.mode=26;break}if(32&w){r.back=-1,r.mode=Dr;break}if(64&w){t.msg="invalid literal/length code",r.mode=Lr;break}r.extra=15&w,r.mode=22;case 22:if(r.extra){for(B=r.extra;l<B;){if(0===o)break t;o--,f+=n[s++]<<l,l+=8}r.length+=f&(1<<r.extra)-1,f>>>=r.extra,l-=r.extra,r.back+=r.extra}r.was=r.length,r.mode=23;case 23:for(;E=r.distcode[f&(1<<r.distbits)-1],m=E>>>24,w=E>>>16&255,_=65535&E,!(m<=l);){if(0===o)break t;o--,f+=n[s++]<<l,l+=8}if(0==(240&w)){for(y=m,b=w,v=_;E=r.distcode[v+((f&(1<<y+b)-1)>>y)],m=E>>>24,w=E>>>16&255,_=65535&E,!(y+m<=l);){if(0===o)break t;o--,f+=n[s++]<<l,l+=8}f>>>=y,l-=y,r.back+=y}if(f>>>=m,l-=m,r.back+=m,64&w){t.msg="invalid distance code",r.mode=Lr;break}r.offset=_,r.extra=15&w,r.mode=24;case 24:if(r.extra){for(B=r.extra;l<B;){if(0===o)break t;o--,f+=n[s++]<<l,l+=8}r.offset+=f&(1<<r.extra)-1,f>>>=r.extra,l-=r.extra,r.back+=r.extra}if(r.offset>r.dmax){t.msg="invalid distance too far back",r.mode=Lr;break}r.mode=25;case 25:if(0===c)break t;if(d=u-c,r.offset>d){if(d=r.offset-d,d>r.whave&&r.sane){t.msg="invalid distance too far back",r.mode=Lr;break}d>r.wnext?(d-=r.wnext,p=r.wsize-d):p=r.wnext-d,d>r.length&&(d=r.length),g=r.window}else g=i,p=a-r.offset,d=r.length;d>c&&(d=c),c-=d,r.length-=d;do{i[a++]=g[p++]}while(--d);0===r.length&&(r.mode=21);break;case 26:if(0===c)break t;i[a++]=r.length,c--,r.mode=21;break;case 27:if(r.wrap){for(;l<32;){if(0===o)break t;o--,f|=n[s++]<<l,l+=8}if(u-=c,t.total_out+=u,r.total+=u,u&&(t.adler=r.check=r.flags?ne(r.check,i,u,a-u):ee(r.check,i,u,a-u)),u=c,(r.flags?f:Fr(f))!==r.check){t.msg="incorrect data check",r.mode=Lr;break}f=0,l=0}r.mode=28;case 28:if(r.wrap&&r.flags){for(;l<32;){if(0===o)break t;o--,f+=n[s++]<<l,l+=8}if(f!==(4294967295&r.total)){t.msg="incorrect length check",r.mode=Lr;break}f=0,l=0}r.mode=29;case 29:x=Cr;break t;case Lr:x=Pr;break t;case 31:return jr;case 32:default:return Tr}return t.next_out=a,t.avail_out=c,t.next_in=s,t.avail_in=o,r.hold=f,r.bits=l,(r.wsize||u!==t.avail_out&&r.mode<Lr&&(r.mode<27||e!==Ur))&&Jr(t,t.output,t.next_out,u-t.avail_out),h-=t.avail_in,u-=t.avail_out,t.total_in+=h,t.total_out+=u,r.total+=u,r.wrap&&u&&(t.adler=r.check=r.flags?ne(r.check,i,u,t.next_out-u):ee(r.check,i,u,t.next_out-u)),t.data_type=r.bits+(r.last?64:0)+(r.mode===Dr?128:0)+(20===r.mode||15===r.mode?256:0),(0===h&&0===u||e===Ur)&&x===Or&&(x=Nr),x},inflateEnd:t=>{if(!t||!t.state)return Tr;let e=t.state;return e.window&&(e.window=null),t.state=null,Or},inflateGetHeader:(t,e)=>{if(!t||!t.state)return Tr;const r=t.state;return 0==(2&r.wrap)?Tr:(r.head=e,e.done=!1,Or)},inflateSetDictionary:(t,e)=>{const r=e.length;let n,i,s;return t&&t.state?(n=t.state,0!==n.wrap&&11!==n.mode?Tr:11===n.mode&&(i=1,i=ee(i,e,r,0),i!==n.check)?Pr:(s=Jr(t,e,r,r),s?(n.mode=31,jr):(n.havedict=1,Or))):Tr},inflateInfo:"pako inflate (from Nodeca project)"};var tn=function(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1};const en=Object.prototype.toString,{Z_NO_FLUSH:rn,Z_FINISH:nn,Z_OK:sn,Z_STREAM_END:an,Z_NEED_DICT:on,Z_STREAM_ERROR:cn,Z_DATA_ERROR:fn,Z_MEM_ERROR:ln}=se;function hn(t){this.options=er({chunkSize:65536,windowBits:15,to:""},t||{});const e=this.options;e.raw&&e.windowBits>=0&&e.windowBits<16&&(e.windowBits=-e.windowBits,0===e.windowBits&&(e.windowBits=-15)),!(e.windowBits>=0&&e.windowBits<16)||t&&t.windowBits||(e.windowBits+=32),e.windowBits>15&&e.windowBits<48&&0==(15&e.windowBits)&&(e.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new cr,this.strm.avail_out=0;let r=Qr.inflateInit2(this.strm,e.windowBits);if(r!==sn)throw new Error(ie[r]);if(this.header=new tn,Qr.inflateGetHeader(this.strm,this.header),e.dictionary&&("string"==typeof e.dictionary?e.dictionary=sr(e.dictionary):"[object ArrayBuffer]"===en.call(e.dictionary)&&(e.dictionary=new Uint8Array(e.dictionary)),e.raw&&(r=Qr.inflateSetDictionary(this.strm,e.dictionary),r!==sn)))throw new Error(ie[r])}function un(t,e){const r=new hn(e);if(r.push(t),r.err)throw r.msg||ie[r.err];return r.result}hn.prototype.push=function(t,e){const r=this.strm,n=this.options.chunkSize,i=this.options.dictionary;let s,a,o;if(this.ended)return!1;for(a=e===~~e?e:!0===e?nn:rn,"[object ArrayBuffer]"===en.call(t)?r.input=new Uint8Array(t):r.input=t,r.next_in=0,r.avail_in=r.input.length;;){for(0===r.avail_out&&(r.output=new Uint8Array(n),r.next_out=0,r.avail_out=n),s=Qr.inflate(r,a),s===on&&i&&(s=Qr.inflateSetDictionary(r,i),s===sn?s=Qr.inflate(r,a):s===fn&&(s=on));r.avail_in>0&&s===an&&r.state.wrap>0&&0!==t[r.next_in];)Qr.inflateReset(r),s=Qr.inflate(r,a);switch(s){case cn:case fn:case on:case ln:return this.onEnd(s),this.ended=!0,!1}if(o=r.avail_out,r.next_out&&(0===r.avail_out||s===an))if("string"===this.options.to){let t=or(r.output,r.next_out),e=r.next_out-t,i=ar(r.output,t);r.next_out=e,r.avail_out=n-e,e&&r.output.set(r.output.subarray(t,t+e),0),this.onData(i)}else this.onData(r.output.length===r.next_out?r.output:r.output.subarray(0,r.next_out));if(s!==sn||0!==o){if(s===an)return s=Qr.inflateEnd(this.strm),this.onEnd(s),this.ended=!0,!0;if(0===r.avail_in)break}}return!0},hn.prototype.onData=function(t){this.chunks.push(t)},hn.prototype.onEnd=function(t){t===sn&&("string"===this.options.to?this.result=this.chunks.join(""):this.result=rr(this.chunks)),this.chunks=[],this.err=t,this.msg=this.strm.msg};var dn={Inflate:hn,inflate:un,inflateRaw:function(t,e){return(e=e||{}).raw=!0,un(t,e)},ungzip:un,constants:se};const{Deflate:pn,deflate:gn,deflateRaw:mn,gzip:wn}=vr,{Inflate:_n,inflate:yn,inflateRaw:bn,ungzip:vn}=dn;const kn={Deflate:pn,deflate:gn,deflateRaw:mn,gzip:wn,Inflate:_n,inflate:yn,inflateRaw:bn,ungzip:vn,constants:se};function xn(t){return t[Symbol.asyncIterator]?t[Symbol.asyncIterator]():t[Symbol.iterator]?t[Symbol.iterator]():t.next?t:function(t){let e=[t];return{next:()=>Promise.resolve({done:0===e.length,value:e.pop()}),return:()=>(e=[],{}),[Symbol.asyncIterator](){return this}}}(t)}class En{constructor(t){this.stream=xn(t),this.buffer=null,this.cursor=0,this.undoCursor=0,this.started=!1,this._ended=!1,this._discardedBytes=0}eof(){return this._ended&&this.cursor===this.buffer.length}tell(){return this._discardedBytes+this.cursor}async byte(){if(!this.eof()&&(this.started||await this._init(),this.cursor!==this.buffer.length||(await this._loadnext(),!this._ended)))return this._moveCursor(1),this.buffer[this.undoCursor]}async chunk(){if(!this.eof()&&(this.started||await this._init(),this.cursor!==this.buffer.length||(await this._loadnext(),!this._ended)))return this._moveCursor(this.buffer.length),this.buffer.slice(this.undoCursor,this.cursor)}async read(t){if(!this.eof())return this.started||await this._init(),this.cursor+t>this.buffer.length&&(this._trim(),await this._accumulate(t)),this._moveCursor(t),this.buffer.slice(this.undoCursor,this.cursor)}async skip(t){this.eof()||(this.started||await this._init(),this.cursor+t>this.buffer.length&&(this._trim(),await this._accumulate(t)),this._moveCursor(t))}async undo(){this.cursor=this.undoCursor}async _next(){this.started=!0;let{done:t,value:e}=await this.stream.next();return t&&(this._ended=!0),e&&(e=Buffer.from(e)),e}_trim(){this.buffer=this.buffer.slice(this.undoCursor),this.cursor-=this.undoCursor,this._discardedBytes+=this.undoCursor,this.undoCursor=0}_moveCursor(t){this.undoCursor=this.cursor,this.cursor+=t,this.cursor>this.buffer.length&&(this.cursor=this.buffer.length)}async _accumulate(t){if(this._ended)return;const e=[this.buffer];for(;this.cursor+t>An(e);){const t=await this._next();if(this._ended)break;e.push(t)}this.buffer=Buffer.concat(e)}async _loadnext(){this._discardedBytes+=this.buffer.length,this.undoCursor=0,this.cursor=0,this.buffer=await this._next()}async _init(){this.buffer=await this._next()}}function An(t){return t.reduce(((t,e)=>t+e.length),0)}async function Sn(t){let e=await t.byte();const r=e>>4&7;let n,i,s=15&e;if(128&e){let r=4;do{e=await t.byte(),s|=(127&e)<<r,r+=7}while(128&e)}if(6===r){let r=0;n=0;const s=[];do{e=await t.byte(),n|=(127&e)<<r,r+=7,s.push(e)}while(128&e);i=Buffer.from(s)}if(7===r){i=await t.read(20)}return{type:r,length:s,ofs:n,reference:i}}async function Bn(t){return async function(t){const e=new DecompressionStream("deflate"),r=new Blob([t]).stream().pipeThrough(e);return new Uint8Array(await new Response(r).arrayBuffer())}(t)}var $n=r(336),Un=r.n($n);let Rn=null;async function In(t){return null===Rn&&(Rn=await async function(){try{if("da39a3ee5e6b4b0d3255bfef95601890afd80709"===await On(new Uint8Array([])))return!0}catch(t){}return!1}()),Rn?On(t):function(t){return(new(Un())).update(t).digest("hex")}(t)}async function On(t){return function(t){let e="";for(const r of new Uint8Array(t))r<16&&(e+="0"),e+=r.toString(16);return e}(await crypto.subtle.digest("SHA-1",t))}class Cn{constructor(t){Object.assign(this,t),this.offsetCache={}}static async fromIdx({idx:t,getExternalRefDelta:e}){const r=new pt(t);if("ff744f63"!==r.slice(4).toString("hex"))return;const n=r.readUInt32BE();if(2!==n)throw new u(`Unable to read version ${n} packfile IDX. (Only version 2 supported)`);if(t.byteLength>2147483648)throw new u("To keep implementation simple, I haven't implemented the layer 5 feature needed to support packfiles > 2GB in size.");r.seek(r.tell()+1020);const i=r.readUInt32BE(),s=[];for(let t=0;t<i;t++){const e=r.slice(20).toString("hex");s[t]=e}r.seek(r.tell()+4*i);const a=new Map;for(let t=0;t<i;t++)a.set(s[t],r.readUInt32BE());const o=r.slice(20).toString("hex");return new Cn({hashes:s,crcs:{},offsets:a,packfileSha:o,getExternalRefDelta:e})}static async fromPack({pack:t,getExternalRefDelta:e,onProgress:r}){const n={1:"commit",2:"tree",3:"blob",4:"tag",6:"ofs-delta",7:"ref-delta"},i={},s=t.slice(-20).toString("hex"),a=[],o={},c=new Map;let f=null,l=null;await async function(t,e){const r=new En(t);let n=await r.read(4);if(n=n.toString("utf8"),"PACK"!==n)throw new u(`Invalid PACK header '${n}'`);let i=await r.read(4);if(i=i.readUInt32BE(0),2!==i)throw new u(`Invalid packfile version: ${i}`);let s=await r.read(4);if(s=s.readUInt32BE(0),!(s<1))for(;!r.eof()&&s--;){const t=r.tell(),{type:n,length:i,ofs:a,reference:o}=await Sn(r),c=new kn.Inflate;for(;!c.result;){const f=await r.chunk();if(r.ended)break;if(c.push(f,!1),c.err)throw new u(`Pako error: ${c.msg}`);if(c.result){if(c.result.length!==i)throw new u("Inflated object size is different from that stated in packfile.");await r.undo(),await r.read(f.length-c.strm.avail_in);const l=r.tell();await e({data:c.result,type:n,num:s,offset:t,end:l,reference:o,ofs:a})}}}}([t],(async({data:t,type:e,reference:s,offset:a,num:o})=>{null===f&&(f=o);const c=Math.floor(100*(f-o)/f);c!==l&&r&&await r({phase:"Receiving objects",loaded:f-o,total:f}),l=c,(["commit","tree","blob","tag"].includes(e=n[e])||"ofs-delta"===e||"ref-delta"===e)&&(i[a]={type:e,offset:a})}));const h=Object.keys(i).map(Number);for(const[e,r]of h.entries()){const n=e+1===h.length?t.byteLength-20:h[e+1],s=i[r],a=dt().buf(t.slice(r,n))>>>0;s.end=n,s.crc=a}const d=new Cn({pack:Promise.resolve(t),packfileSha:s,crcs:o,hashes:a,offsets:c,getExternalRefDelta:e});l=null;let p=0;const g=[0,0,0,0,0,0,0,0,0,0,0,0];for(let t in i){t=Number(t);const e=Math.floor(100*p++/f);e!==l&&r&&await r({phase:"Resolving deltas",loaded:p,total:f}),l=e;const n=i[t];if(!n.oid)try{d.readDepth=0,d.externalReadDepth=0;const{type:e,object:r}=await d.readSlice({start:t});g[d.readDepth]+=1;const i=await In(ht.wrap({type:e,object:r}));n.oid=i,a.push(i),c.set(i,t),o[i]=n.crc}catch(t){continue}}return a.sort(),d}async toBuffer(){const t=[],e=(e,r)=>{t.push(Buffer.from(e,r))};e("ff744f63","hex"),e("00000002","hex");const r=new pt(Buffer.alloc(1024));for(let t=0;t<256;t++){let e=0;for(const r of this.hashes)parseInt(r.slice(0,2),16)<=t&&e++;r.writeUInt32BE(e)}t.push(r.buffer);for(const t of this.hashes)e(t,"hex");const n=new pt(Buffer.alloc(4*this.hashes.length));for(const t of this.hashes)n.writeUInt32BE(this.crcs[t]);t.push(n.buffer);const i=new pt(Buffer.alloc(4*this.hashes.length));for(const t of this.hashes)i.writeUInt32BE(this.offsets.get(t));t.push(i.buffer),e(this.packfileSha,"hex");const s=Buffer.concat(t),a=await In(s),o=Buffer.alloc(20);return o.write(a,"hex"),Buffer.concat([s,o])}async load({pack:t}){this.pack=t}async unload(){this.pack=null}async read({oid:t}){if(!this.offsets.get(t)){if(this.getExternalRefDelta)return this.externalReadDepth++,this.getExternalRefDelta(t);throw new u(`Could not read object ${t} from packfile`)}const e=this.offsets.get(t);return this.readSlice({start:e})}async readSlice({start:t}){if(this.offsetCache[t])return Object.assign({},this.offsetCache[t]);this.readDepth++;if(!this.pack)throw new u("Tried to read from a GitPackIndex with no packfile loaded into memory");const e=(await this.pack).slice(t),r=new pt(e),n=r.readUInt8(),i=112&n;let s={16:"commit",32:"tree",48:"blob",64:"tag",96:"ofs_delta",112:"ref_delta"}[i];if(void 0===s)throw new u("Unrecognized type: 0b"+i.toString(2));const a=15&n;let o=a;128&n&&(o=function(t,e){let r=e,n=4,i=null;do{i=t.readUInt8(),r|=(127&i)<<n,n+=7}while(128&i);return r}(r,a));let c=null,f=null;if("ofs_delta"===s){const e=t-function(t){const e=[];let r=0,n=0;do{r=t.readUInt8();const i=127&r;e.push(i),n=128&r}while(n);return e.reduce(((t,e)=>t+1<<7|e),-1)}(r);({object:c,type:s}=await this.readSlice({start:e}))}if("ref_delta"===s){const t=r.slice(20).toString("hex");({object:c,type:s}=await this.read({oid:t}))}const l=e.slice(r.tell());if(f=Buffer.from(await Bn(l)),f.byteLength!==o)throw new u(`Packfile told us object would have length ${o} but it had length ${f.byteLength}`);return c&&(f=Buffer.from(function(t,e){const r=new pt(t),n=gt(r);if(n!==e.byteLength)throw new u(`applyDelta expected source buffer to be ${n} bytes but the provided buffer was ${e.length} bytes`);const i=gt(r);let s;const a=wt(r,e);if(a.byteLength===i)s=a;else{s=Buffer.alloc(i);const t=new pt(s);for(t.copy(a);!r.eof();)t.copy(wt(r,e));const n=t.tell();if(i!==n)throw new u(`applyDelta expected target buffer to be ${i} bytes but the resulting buffer was ${n} bytes`)}return s}(f,c))),this.readDepth>3&&(this.offsetCache[t]={type:s,object:f}),{type:s,format:"content",object:f}}}const zn=Symbol("PackfileCache");function Tn({fs:t,cache:e,filename:r,getExternalRefDelta:n,emitter:i,emitterPrefix:s}){e[zn]||(e[zn]=new Map);let a=e[zn].get(r);return a||(a=async function({fs:t,filename:e,getExternalRefDelta:r,emitter:n,emitterPrefix:i}){const s=await t.read(e);return Cn.fromIdx({idx:s,getExternalRefDelta:r})}({fs:t,filename:r,getExternalRefDelta:n,emitter:i,emitterPrefix:s}),e[zn].set(r,a)),a}async function Pn({fs:t,cache:e,gitdir:r,oid:n,format:i="content"}){const s=n=>Pn({fs:t,cache:e,gitdir:r,oid:n});let a;if("4b825dc642cb6eb9a060e54bf8d69288fbee4904"===n&&(a={format:"wrapped",object:Buffer.from("tree 0\0")}),a||(a=await async function({fs:t,gitdir:e,oid:r}){const n=`objects/${r.slice(0,2)}/${r.slice(2)}`,i=await t.read(`${e}/${n}`);return i?{object:i,format:"deflated",source:n}:null}({fs:t,gitdir:r,oid:n})),a||(a=await async function({fs:t,cache:e,gitdir:r,oid:n,format:i="content",getExternalRefDelta:s}){let a=await t.readdir(P(r,"objects/pack"));a=a.filter((t=>t.endsWith(".idx")));for(const i of a){const a=`${r}/objects/pack/${i}`,o=await Tn({fs:t,cache:e,filename:a,getExternalRefDelta:s});if(o.error)throw new u(o.error);if(o.offsets.has(n)){if(!o.pack){const e=a.replace(/idx$/,"pack");o.pack=t.read(e)}const e=await o.read({oid:n,getExternalRefDelta:s});return e.format="content",e.source=`objects/pack/${i.replace(/idx$/,"pack")}`,e}}return null}({fs:t,cache:e,gitdir:r,oid:n,getExternalRefDelta:s})),!a)throw new v(n);if("deflated"===i)return a;switch(a.format){case"deflated":a.object=Buffer.from(await Bn(a.object)),a.format="wrapped";case"wrapped":{if("wrapped"===i&&"wrapped"===a.format)return a;const t=await In(a.object);if(t!==n)throw new u(`SHA check failed! Expected ${n}, computed ${t}`);const{object:e,type:r}=ht.unwrap(a.object);a.type=r,a.object=e,a.format="content"}case"content":if("content"===i)return a;break;default:throw new u(`invalid format "${a.format}"`)}}async function jn({fs:t,cache:e,dir:r,gitdir:n=P(r,".git"),start:i,finish:s}){const a=await nt.read({fs:t,gitdir:n}),o=new Set,c=new Set;for(const e of i)o.add(await Q.resolve({fs:t,gitdir:n,ref:e}));for(const e of s)try{const r=await Q.resolve({fs:t,gitdir:n,ref:e});c.add(r)}catch(t){}const f=new Set;async function l(r){f.add(r);const{type:i,object:s}=await Pn({fs:t,cache:e,gitdir:n,oid:r});if("tag"===i){return l(ct.from(s).headers().object)}if("commit"!==i)throw new k(r,i,"commit");if(!a.has(r)){const t=lt.from(s).headers().parent;for(r of t)c.has(r)||f.has(r)||await l(r)}}for(const t of o)await l(t);return f}function Nn(t,e){return-(t<e)||+(t>e)}function Mn(t,e){return Nn(t.path,e.path)}function Dn(t,e){return Nn(Ln(t),Ln(e))}function Ln(t){return"040000"===t.mode?t.path+"/":t.path}function Fn(t){switch(t){case"040000":return"tree";case"100644":case"100755":case"120000":return"blob";case"160000":return"commit"}throw new u(`Unexpected GitTree entry mode: ${t}`)}function Zn(t){return!t.oid&&t.sha&&(t.oid=t.sha),t.mode=function(t){if("number"==typeof t&&(t=t.toString(8)),t.match(/^0?4.*/))return"040000";if(t.match(/^1006.*/))return"100644";if(t.match(/^1007.*/))return"100755";if(t.match(/^120.*/))return"120000";if(t.match(/^160.*/))return"160000";throw new u(`Could not understand file mode: ${t}`)}(t.mode),t.type||(t.type=Fn(t.mode)),t}class Gn{constructor(t){if(Buffer.isBuffer(t))this._entries=function(t){const e=[];let r=0;for(;r<t.length;){const n=t.indexOf(32,r);if(-1===n)throw new u(`GitTree: Error parsing buffer at byte location ${r}: Could not find the next space character.`);const i=t.indexOf(0,r);if(-1===i)throw new u(`GitTree: Error parsing buffer at byte location ${r}: Could not find the next null character.`);let s=t.slice(r,n).toString("utf8");"40000"===s&&(s="040000");const a=Fn(s),o=t.slice(n+1,i).toString("utf8");if(o.includes("\\")||o.includes("/"))throw new $(o);const c=t.slice(i+1,i+21).toString("hex");r=i+21,e.push({mode:s,path:o,oid:c,type:a})}return e}(t);else{if(!Array.isArray(t))throw new u("invalid type passed to GitTree constructor");this._entries=t.map(Zn)}this._entries.sort(Mn)}static from(t){return new Gn(t)}render(){return this._entries.map((t=>`${t.mode} ${t.type} ${t.oid}    ${t.path}`)).join("\n")}toObject(){const t=[...this._entries];return t.sort(Dn),Buffer.concat(t.map((t=>{const e=Buffer.from(t.mode.replace(/^0/,"")),r=Buffer.from(" "),n=Buffer.from(t.path,"utf8"),i=Buffer.from([0]),s=Buffer.from(t.oid,"hex");return Buffer.concat([e,r,n,i,s])})))}entries(){return this._entries}*[Symbol.iterator](){for(const t of this._entries)yield t}}async function Hn({fs:t,cache:e,dir:r,gitdir:n=P(r,".git"),oids:i}){const s=new Set;async function a(r){if(s.has(r))return;s.add(r);const{type:i,object:o}=await Pn({fs:t,cache:e,gitdir:n,oid:r});if("tag"===i){const t=ct.from(o).headers().object;await a(t)}else if("commit"===i){const t=lt.from(o).headers().tree;await a(t)}else if("tree"===i){const t=Gn.from(o);for(const e of t)"blob"===e.type&&s.add(e.oid),"tree"===e.type&&await a(e.oid)}}for(const t of i)await a(t);return s}const qn={commit:16,tree:32,blob:48,tag:64,ofs_delta:96,ref_delta:112};async function Wn(t){return async function(t){const e=new CompressionStream("deflate"),r=new Blob([t]).stream().pipeThrough(e);return new Uint8Array(await new Response(r).arrayBuffer())}(t)}function Kn(t,e){const r=e.toString(16);return"0".repeat(t-r.length)+r}async function Yn({fs:t,cache:e,dir:r,gitdir:n=P(r,".git"),oids:i}){const s=new(Un()),a=[];function o(t,e){const r=Buffer.from(t,e);a.push(r),s.update(r)}async function c({stype:t,object:e}){const r=qn[t];let n=e.length,i=n>15?128:0;const s=15&n;n>>>=4;let a=(i|r|s).toString(16);for(o(a,"hex");i;)i=n>127?128:0,a=i|127&n,o(Kn(2,a),"hex"),n>>>=7;o(Buffer.from(await Wn(e)))}o("PACK"),o("00000002","hex"),o(Kn(8,i.length),"hex");for(const r of i){const{type:i,object:s}=await Pn({fs:t,cache:e,gitdir:n,oid:r});await c({write:o,object:s,stype:i})}const f=s.digest();return a.push(f),a}class Xn{static flush(){return Buffer.from("0000","utf8")}static delim(){return Buffer.from("0001","utf8")}static encode(t){"string"==typeof t&&(t=Buffer.from(t));const e=Kn(4,t.length+4);return Buffer.concat([Buffer.from(e,"utf8"),t])}static streamReader(t){const e=new En(t);return async function(){try{let t=await e.read(4);if(null==t)return!0;if(t=parseInt(t.toString("utf8"),16),0===t)return null;if(1===t)return null;const r=await e.read(t-4);return null==r||r}catch(t){return console.log("error",t),!0}}}}const Vn={name:"isomorphic-git",version:"0.0.0-development",agent:"git/isomorphic-git@0.0.0-development"};async function Jn({capabilities:t,refs:e,symrefs:r}){const n=[];let i="";for(const[t,e]of Object.entries(r))i+=`symref=${t}:${e} `;let s=`\0${[...t].join(" ")} ${i}agent=${Vn.agent}`;for(const[t,r]of Object.entries(e))n.push(Xn.encode(`${r} ${t}${s}\n`)),s="";return n.push(Xn.flush()),n}async function Qn({fs:t,dir:e,gitdir:r=P(e,".git"),advertiseRefs:n=!1}){try{if(n){const e=["thin-pack","side-band","side-band-64k","shallow","deepen-since","deepen-not","allow-tip-sha1-in-want","allow-reachable-sha1-in-want"];let n=await Q.listRefs({fs:t,gitdir:r,filepath:"refs"});n=n.map((t=>`refs/${t}`));const i={};n.unshift("HEAD");for(const e of n)i[e]=await Q.resolve({fs:t,gitdir:r,ref:e});const s={};return s.HEAD=await Q.resolve({fs:t,gitdir:r,ref:"HEAD",depth:2}),Jn({capabilities:e,refs:i,symrefs:s})}}catch(t){throw t.caller="git.uploadPack",t}}var ti=r(151),ei=r.n(ti);function ri(t){const e=Math.max(t.lastIndexOf("/"),t.lastIndexOf("\\"));return e>-1&&(t=t.slice(e+1)),t}function ni(t){const e=Math.max(t.lastIndexOf("/"),t.lastIndexOf("\\"));return-1===e?".":0===e?"/":t.slice(0,e)}class ii{static async isIgnored({fs:t,dir:e,gitdir:r=P(e,".git"),filepath:n}){if(".git"===ri(n))return!0;if("."===n)return!1;const i=[{gitignore:P(e,".gitignore"),filepath:n}],s=n.split("/");for(let t=1;t<s.length;t++){const r=s.slice(0,t).join("/"),n=s.slice(t).join("/");i.push({gitignore:P(e,r,".gitignore"),filepath:n})}let a=!1;for(const e of i){let r;try{r=await t.read(e.gitignore,"utf8")}catch(t){if("NOENT"===t.code)continue}const n=ei()().add(r),i=ni(e.filepath);if("."!==i&&n.ignores(i))return!0;a=a?!n.test(e.filepath).unignored:n.test(e.filepath).ignored}return a}}function si(t){let e=t>0?t>>12:0;4!==e&&8!==e&&10!==e&&14!==e&&(e=8);let r=511&t;return r=73&r?493:420,8!==e&&(r=0),(e<<12)+r}const ai=2**32;function oi(t,e,r,n){if(void 0!==t&&void 0!==e)return[t,e];void 0===r&&(r=n.valueOf());const i=Math.floor(r/1e3);return[i,1e6*(r-1e3*i)]}function ci(t){const[e,r]=oi(t.ctimeSeconds,t.ctimeNanoseconds,t.ctimeMs,t.ctime),[n,i]=oi(t.mtimeSeconds,t.mtimeNanoseconds,t.mtimeMs,t.mtime);return{ctimeSeconds:e%ai,ctimeNanoseconds:r%ai,mtimeSeconds:n%ai,mtimeNanoseconds:i%ai,dev:t.dev%ai,ino:t.ino%ai,mode:si(t.mode%ai),uid:t.uid%ai,gid:t.gid%ai,size:t.size>-1?t.size%ai:0}}class fi{constructor(t){this._dirty=!1,this._entries=t||new Map}static async from(t){if(Buffer.isBuffer(t))return fi.fromBuffer(t);if(null===t)return new fi(null);throw new u("invalid type passed to GitIndex.from")}static async fromBuffer(t){const e=await In(t.slice(0,-20)),r=t.slice(-20).toString("hex");if(r!==e)throw new u(`Invalid checksum in GitIndex buffer: expected ${r} but saw ${e}`);const n=new pt(t),i=new Map,s=n.toString("utf8",4);if("DIRC"!==s)throw new u(`Inavlid dircache magic file number: ${s}`);const a=n.readUInt32BE();if(2!==a)throw new u(`Unsupported dircache version: ${a}`);const o=n.readUInt32BE();let c=0;for(;!n.eof()&&c<o;){const e={};e.ctimeSeconds=n.readUInt32BE(),e.ctimeNanoseconds=n.readUInt32BE(),e.mtimeSeconds=n.readUInt32BE(),e.mtimeNanoseconds=n.readUInt32BE(),e.dev=n.readUInt32BE(),e.ino=n.readUInt32BE(),e.mode=n.readUInt32BE(),e.uid=n.readUInt32BE(),e.gid=n.readUInt32BE(),e.size=n.readUInt32BE(),e.oid=n.slice(20).toString("hex");const r=n.readUInt16BE();e.flags=(f=r,{assumeValid:Boolean(32768&f),extended:Boolean(16384&f),stage:(12288&f)>>12,nameLength:4095&f});const s=t.indexOf(0,n.tell()+1)-n.tell();if(s<1)throw new u(`Got a path length of: ${s}`);if(e.path=n.toString("utf8",s),e.path.includes("..\\")||e.path.includes("../"))throw new $(e.path);let a=8-(n.tell()-12)%8;for(0===a&&(a=8);a--;){const t=n.readUInt8();if(0!==t)throw new u(`Expected 1-8 null characters but got '${t}' after ${e.path}`);if(n.eof())throw new u("Unexpected end of file")}i.set(e.path,e),c++}var f;return new fi(i)}get entries(){return[...this._entries.values()].sort(Mn)}get entriesMap(){return this._entries}*[Symbol.iterator](){for(const t of this.entries)yield t}insert({filepath:t,stats:e,oid:r}){e=ci(e);const n=Buffer.from(t),i={ctimeSeconds:e.ctimeSeconds,ctimeNanoseconds:e.ctimeNanoseconds,mtimeSeconds:e.mtimeSeconds,mtimeNanoseconds:e.mtimeNanoseconds,dev:e.dev,ino:e.ino,mode:e.mode||33188,uid:e.uid,gid:e.gid,size:e.size,path:t,oid:r,flags:{assumeValid:!1,extended:!1,stage:0,nameLength:n.length<4095?n.length:4095}};this._entries.set(i.path,i),this._dirty=!0}delete({filepath:t}){if(this._entries.has(t))this._entries.delete(t);else for(const e of this._entries.keys())e.startsWith(t+"/")&&this._entries.delete(e);this._dirty=!0}clear(){this._entries.clear(),this._dirty=!0}render(){return this.entries.map((t=>`${t.mode.toString(8)} ${t.oid}    ${t.path}`)).join("\n")}async toObject(){const t=Buffer.alloc(12),e=new pt(t);e.write("DIRC",4,"utf8"),e.writeUInt32BE(2),e.writeUInt32BE(this.entries.length);const r=Buffer.concat(this.entries.map((t=>{const e=Buffer.from(t.path),r=8*Math.ceil((62+e.length+1)/8),n=Buffer.alloc(r),i=new pt(n),s=ci(t);return i.writeUInt32BE(s.ctimeSeconds),i.writeUInt32BE(s.ctimeNanoseconds),i.writeUInt32BE(s.mtimeSeconds),i.writeUInt32BE(s.mtimeNanoseconds),i.writeUInt32BE(s.dev),i.writeUInt32BE(s.ino),i.writeUInt32BE(s.mode),i.writeUInt32BE(s.uid),i.writeUInt32BE(s.gid),i.writeUInt32BE(s.size),i.write(t.oid,20,"hex"),i.writeUInt16BE(function(t){const e=t.flags;return e.extended=!1,e.nameLength=Math.min(Buffer.from(t.path).length,4095),(e.assumeValid?32768:0)+(e.extended?16384:0)+((3&e.stage)<<12)+(4095&e.nameLength)}(t)),i.write(t.path,e.length,"utf8"),n}))),n=Buffer.concat([t,r]),i=await In(n);return Buffer.concat([n,Buffer.from(i,"hex")])}}let li=null;const hi=Symbol("IndexCache");async function ui(t,e,r){const n=r.stats.get(e);if(void 0===n)return!0;const i=await t.lstat(e);return null!==n&&(null!==i&&function(t,e){const r=ci(t),n=ci(e);return r.mode!==n.mode||r.mtimeSeconds!==n.mtimeSeconds||r.ctimeSeconds!==n.ctimeSeconds||r.uid!==n.uid||r.gid!==n.gid||r.ino!==n.ino||r.size!==n.size}(n,i))}class di{static async acquire({fs:t,gitdir:e,cache:r},n){r[hi]||(r[hi]={map:new Map,stats:new Map});const i=`${e}/index`;let s;return null===li&&(li=new(et())({maxPending:1/0})),await li.acquire(i,(async function(){await ui(t,i,r[hi])&&await async function(t,e,r){const n=await t.lstat(e),i=await t.read(e),s=await fi.from(i);r.map.set(e,s),r.stats.set(e,n)}(t,i,r[hi]);const e=r[hi].map.get(i);if(s=await n(e),e._dirty){const n=await e.toObject();await t.write(i,n),r[hi].stats.set(i,await t.lstat(i)),e._dirty=!1}})),s}}function pi({username:t="",password:e=""}){return`Basic ${Buffer.from(`${t}:${e}`).toString("base64")}`}async function gi(t){let e=0;const r=[];for await(let n of t)r.push(n),e+=n.byteLength;const n=new Uint8Array(e);let i=0;for(const t of r)n.set(t,i),i+=t.byteLength;return n}function mi(t){let e=t.match(/^https?:\/\/([^/]+)@/);if(null==e)return{url:t,auth:{}};e=e[1];const[r,n]=e.split(":");return{url:t=t.replace(`${e}@`,""),auth:{username:r,password:n}}}async function wi(t,{service:e}){const r=new Set,n=new Map,i=new Map,s=Xn.streamReader(t);let a=await s();for(;null===a;)a=await s();if(!0===a)throw new c;if(a.toString("utf8").replace(/\n$/,"")!==`# service=${e}`)throw new x(`# service=${e}\\n`,a.toString("utf8"));let o=await s();for(;null===o;)o=await s();if(!0===o)return{capabilities:r,refs:n,symrefs:i};if(o=o.toString("utf8"),o.includes("version 2"))return async function(t){const e={};let r;for(;r=await t(),!0!==r;){if(null===r)continue;r=r.toString("utf8").replace(/\n$/,"");const t=r.indexOf("=");if(t>-1){const n=r.slice(0,t),i=r.slice(t+1);e[n]=i}else e[r]=!0}return{protocolVersion:2,capabilities2:e}}(s);const[f,l]=_i(o,"\0","\\x00");l.split(" ").map((t=>r.add(t)));const[h,u]=_i(f," "," ");for(n.set(u,h);;){const t=await s();if(!0===t)break;if(null!==t){const[e,r]=_i(t.toString("utf8")," "," ");n.set(r,e)}}for(const t of r)if(t.startsWith("symref=")){const e=t.match(/symref=([^:]+):(.*)/);3===e.length&&i.set(e[1],e[2])}return{protocolVersion:1,capabilities:r,refs:n,symrefs:i}}function _i(t,e,r){const n=t.trim().split(e);if(2!==n.length)throw new x(`Two strings separated by '${r}'`,t.toString("utf8"));return n}const yi=(t,e)=>t.endsWith("?")?`${t}${e}`:`${t}/${e.replace(/^https?:\/\//,"")}`,bi=(t,e)=>{(e.username||e.password)&&(t.Authorization=pi(e)),e.headers&&Object.assign(t,e.headers)},vi=async t=>{try{const e=Buffer.from(await gi(t.body)),r=e.toString("utf8");return{preview:r.length<256?r:r.slice(0,256)+"...",response:r,data:e}}catch(t){return{}}};class ki{static async capabilities(){return["discover","connect"]}static async discover({http:t,onProgress:e,onAuth:r,onAuthSuccess:n,onAuthFailure:i,corsProxy:s,service:a,url:o,headers:c,protocolVersion:f}){let{url:l,auth:u}=mi(o);const d=s?yi(s,l):l;let p,g;(u.username||u.password)&&(c.Authorization=pi(u)),2===f&&(c["Git-Protocol"]="version=2");let m=!1;do{if(p=await t.request({onProgress:e,method:"GET",url:`${d}/info/refs?service=${a}`,headers:c}),g=!1,401===p.statusCode||203===p.statusCode){const t=m?i:r;if(t){if(u=await t(l,{...u,headers:{...c}}),u&&u.cancel)throw new R;u&&(bi(c,u),m=!0,g=!0)}}else 200===p.statusCode&&m&&n&&await n(l,u)}while(g);if(200!==p.statusCode){const{response:t}=await vi(p);throw new h(p.statusCode,p.statusMessage,t)}if(p.headers["content-type"]===`application/x-${a}-advertisement`){const t=await wi(p.body,{service:a});return t.auth=u,t}{const{preview:t,response:e,data:r}=await vi(p);try{const t=await wi([r],{service:a});return t.auth=u,t}catch(r){throw new S(t,e)}}}static async connect({http:t,onProgress:e,corsProxy:r,service:n,url:i,auth:s,body:a,headers:o}){const c=mi(i);c&&(i=c.url),r&&(i=yi(r,i)),o["content-type"]=`application/x-${n}-request`,o.accept=`application/x-${n}-result`,bi(o,s);const f=await t.request({onProgress:e,method:"POST",url:`${i}/${n}`,body:a,headers:o});if(200!==f.statusCode){const{response:t}=vi(f);throw new h(f.statusCode,f.statusMessage,t)}return f}}class xi{static getRemoteHelperFor({url:t}){const e=new Map;e.set("http",ki),e.set("https",ki);const r=function({url:t}){if(t.startsWith("git@"))return{transport:"ssh",address:t};const e=t.match(/(\w+)(:\/\/|::)(.*)/);return null!==e?"://"===e[2]?{transport:e[1],address:e[0]}:"::"===e[2]?{transport:e[1],address:e[3]}:void 0:void 0}({url:t});if(!r)throw new U(t);if(e.has(r.transport))return e.get(r.transport);throw new B(t,r.transport,"ssh"===r.transport?function(t){return(t=t.replace(/^git@([^:]+):/,"https://$1/")).replace(/^ssh:\/\//,"https://")}(t):void 0)}}class Ei{constructor(t){if(void 0!==t._original_unwrapped_fs)return t;const e=Object.getOwnPropertyDescriptor(t,"promises");e&&e.enumerable&&(this._readFile=t.promises.readFile.bind(t.promises),this._writeFile=t.promises.writeFile.bind(t.promises),this._mkdir=t.promises.mkdir.bind(t.promises),this._rmdir=t.promises.rmdir.bind(t.promises),this._unlink=t.promises.unlink.bind(t.promises),this._stat=t.promises.stat.bind(t.promises),this._lstat=t.promises.lstat.bind(t.promises),this._readdir=t.promises.readdir.bind(t.promises),this._readlink=t.promises.readlink.bind(t.promises),this._symlink=t.promises.symlink.bind(t.promises)),this._original_unwrapped_fs=t}async exists(t,e={}){try{return await this._stat(t),!0}catch(t){if("ENOENT"===t.code||"ENOTDIR"===t.code)return!1;throw console.log('Unhandled error in "FileSystem.exists()" function',t),t}}async read(t,e={}){try{let r=await this._readFile(t,e);return"string"!=typeof r&&(r=Buffer.from(r)),r}catch(t){return null}}async write(t,e,r={}){try{return void await this._writeFile(t,e,r)}catch(n){await this.mkdir(ni(t)),await this._writeFile(t,e,r)}}async mkdir(t,e=!1){try{return void await this._mkdir(t)}catch(r){if(null===r)return;if("EEXIST"===r.code)return;if(e)throw r;if("ENOENT"===r.code){const e=ni(t);if("."===e||"/"===e||e===t)throw r;await this.mkdir(e),await this.mkdir(t,!0)}}}async rm(t){try{await this._unlink(t)}catch(t){if("ENOENT"!==t.code)throw t}}async rmdir(t){try{await this._rmdir(t)}catch(t){if("ENOENT"!==t.code)throw t}}async readdir(t){try{const e=await this._readdir(t);return e.sort(Nn),e}catch(t){return"ENOTDIR"===t.code?null:[]}}async readdirDeep(t){const e=await this._readdir(t);return(await Promise.all(e.map((async e=>{const r=t+"/"+e;return(await this._stat(r)).isDirectory()?this.readdirDeep(r):r})))).reduce(((t,e)=>t.concat(e)),[])}async lstat(t){try{return await this._lstat(t)}catch(t){if("ENOENT"===t.code)return null;throw t}}async readlink(t,e={encoding:"buffer"}){try{return this._readlink(t,e)}catch(t){if("ENOENT"===t.code)return null;throw t}}async writelink(t,e){return this._symlink(e.toString("utf8"),t)}}class Ai{constructor(){this._queue=[]}write(t){if(this._ended)throw Error("You cannot write to a FIFO that has already been ended!");if(this._waiting){const e=this._waiting;this._waiting=null,e({value:t})}else this._queue.push(t)}end(){if(this._ended=!0,this._waiting){const t=this._waiting;this._waiting=null,t({done:!0})}}destroy(t){this._ended=!0,this.error=t}async next(){if(this._queue.length>0)return{value:this._queue.shift()};if(this._ended)return{done:!0};if(this._waiting)throw Error("You cannot call read until the previous call to read has returned!");return new Promise((t=>{this._waiting=t}))}}class Si{static demux(t){const e=Xn.streamReader(t),r=new Ai,n=new Ai,i=new Ai,s=async function(){const t=await e();if(null===t)return s();if(!0===t)return r.end(),i.end(),void n.end();switch(t[0]){case 1:n.write(t.slice(1));break;case 2:i.write(t.slice(1));break;case 3:{const e=t.slice(1);return i.write(e),void n.destroy(new Error(e.toString("utf8")))}default:r.write(t.slice(0))}s()};return s(),{packetlines:r,packfile:n,progress:i}}}async function Bi({fs:t,gitdir:e,type:r,object:n,format:i="content",oid:s,dryRun:a=!1}){return"deflated"!==i&&("wrapped"!==i&&(n=ht.wrap({type:r,object:n})),s=await In(n),n=Buffer.from(await Wn(n))),a||await async function({fs:t,gitdir:e,object:r,format:n,oid:i}){if("deflated"!==n)throw new u("GitObjectStoreLoose expects objects to write to be in deflated format");const s=`${e}/objects/${i.slice(0,2)}/${i.slice(2)}`;await t.exists(s)||await t.write(s,r)}({fs:t,gitdir:e,object:n,format:"deflated",oid:s}),s}function $i(t){const e=new Map,r=function(t){if(!e.has(t)){const n={type:"tree",fullpath:t,basename:ri(t),metadata:{},children:[]};e.set(t,n),n.parent=r(ni(t)),n.parent&&n.parent!==n&&n.parent.children.push(n)}return e.get(t)},n=function(t,n){if(!e.has(t)){const i={type:"blob",fullpath:t,basename:ri(t),metadata:n,parent:r(ni(t)),children:[]};i.parent&&i.parent.children.push(i),e.set(t,i)}return e.get(t)};r(".");for(const e of t)n(e.path,e);return e}function Ui(t){return t.length>1072693248||t.slice(0,8e3).some((t=>0===t))}var Ri=r(27),Ii=r.n(Ri);const Oi=/^.*(\r?\n|$)/gm;function Ci({ourContent:t,baseContent:e,theirContent:r,ourName:n="ours",baseName:i="base",theirName:s="theirs",format:a="diff",markerSize:o=7}){const c=t.match(Oi),f=e.match(Oi),l=r.match(Oi),h=Ii()(c,f,l);let u="",d=!0;for(const t of h)t.ok&&(u+=t.ok.join("")),t.conflict&&(d=!1,u+=`${"<".repeat(o)} ${n}\n`,u+=t.conflict.a.join(""),"diff3"===a&&(u+=`${"|".repeat(o)} ${i}\n`,u+=t.conflict.o.join("")),u+=`${"=".repeat(o)}\n`,u+=t.conflict.b.join(""),u+=`${">".repeat(o)} ${s}\n`);return{cleanMerge:d,mergedText:u}}async function zi({fs:t,cache:e,gitdir:r,oid:n}){if("4b825dc642cb6eb9a060e54bf8d69288fbee4904"===n)return{tree:Gn.from([]),oid:n};const{type:i,object:s}=await Pn({fs:t,cache:e,gitdir:r,oid:n});if("tag"===i)return zi({fs:t,cache:e,gitdir:r,oid:n=ct.from(s).parse().object});if("commit"===i)return zi({fs:t,cache:e,gitdir:r,oid:n=lt.from(s).parse().tree});if("tree"!==i)throw new k(n,i,"tree");return{tree:Gn.from(s),oid:n}}class Ti{constructor({fs:t,gitdir:e,ref:r,cache:n}){this.fs=t,this.cache=n,this.gitdir=e,this.mapPromise=(async()=>{const n=new Map;let i;try{i=await Q.resolve({fs:t,gitdir:e,ref:r})}catch(t){t instanceof v&&(i="4b825dc642cb6eb9a060e54bf8d69288fbee4904")}const s=await zi({fs:t,cache:this.cache,gitdir:e,oid:i});return s.type="tree",s.mode="40000",n.set(".",s),n})();const i=this;this.ConstructEntry=class{constructor(t){this._fullpath=t,this._type=!1,this._mode=!1,this._stat=!1,this._content=!1,this._oid=!1}async type(){return i.type(this)}async mode(){return i.mode(this)}async stat(){return i.stat(this)}async content(){return i.content(this)}async oid(){return i.oid(this)}}}async readdir(t){const e=t._fullpath,{fs:r,cache:n,gitdir:i}=this,s=await this.mapPromise,a=s.get(e);if(!a)throw new Error(`No obj for ${e}`);const o=a.oid;if(!o)throw new Error(`No oid for obj ${JSON.stringify(a)}`);if("tree"!==a.type)return null;const{type:c,object:f}=await Pn({fs:r,cache:n,gitdir:i,oid:o});if(c!==a.type)throw new k(o,c,a.type);const l=Gn.from(f);for(const t of l)s.set(P(e,t.path),t);return l.entries().map((t=>P(e,t.path)))}async type(t){if(!1===t._type){const e=await this.mapPromise,{type:r}=e.get(t._fullpath);t._type=r}return t._type}async mode(t){if(!1===t._mode){const e=await this.mapPromise,{mode:r}=e.get(t._fullpath);t._mode=si(parseInt(r,8))}return t._mode}async stat(t){}async content(t){if(!1===t._content){const e=await this.mapPromise,{fs:r,cache:n,gitdir:i}=this,s=e.get(t._fullpath).oid,{type:a,object:o}=await Pn({fs:r,cache:n,gitdir:i,oid:s});t._content="blob"!==a?void 0:new Uint8Array(o)}return t._content}async oid(t){if(!1===t._oid){const e=(await this.mapPromise).get(t._fullpath);t._oid=e.oid}return t._oid}}const Pi=Symbol("GitWalkSymbol");function ji({ref:t="HEAD"}){const e=Object.create(null);return Object.defineProperty(e,Pi,{value:function({fs:e,gitdir:r,cache:n}){return new Ti({fs:e,gitdir:r,ref:t,cache:n})}}),Object.freeze(e),e}const Ni=void 0===Array.prototype.flat?t=>t.reduce(((t,e)=>t.concat(e)),[]):t=>t.flat();class Mi{constructor(){this.value=null}consider(t){null!=t&&(null===this.value||t<this.value)&&(this.value=t)}reset(){this.value=null}}function*Di(t){const e=new Mi;let r;const n=[],i=t.length;for(let r=0;r<i;r++)n[r]=t[r].next().value,void 0!==n[r]&&e.consider(n[r]);if(null!==e.value)for(;;){const s=[];r=e.value,e.reset();for(let a=0;a<i;a++)void 0!==n[a]&&n[a]===r?(s[a]=n[a],n[a]=t[a].next().value):s[a]=null,void 0!==n[a]&&e.consider(n[a]);if(yield s,null===e.value)return}}async function Li({fs:t,cache:e,dir:r,gitdir:n,trees:i,map:s=(async(t,e)=>e),reduce:a=(async(t,e)=>{const r=Ni(e);return void 0!==t&&r.unshift(t),r}),iterate:o=((t,e)=>Promise.all([...e].map(t)))}){const c=i.map((i=>i[Pi]({fs:t,dir:r,gitdir:n,cache:e}))),f=new Array(c.length).fill("."),l=function(t,e){const r=e-t;return Array.from({length:r},((e,r)=>t+r))}(0,c.length),h=async t=>{const{entries:e,children:r}=await(async t=>{l.map((e=>{t[e]=t[e]&&new c[e].ConstructEntry(t[e])}));const e=(await Promise.all(l.map((e=>t[e]?c[e].readdir(t[e]):[])))).map((t=>null===t?[]:t)).map((t=>t[Symbol.iterator]()));return{entries:t,children:Di(e)}})(t),n=e.find((t=>t&&t._fullpath))._fullpath,i=await s(n,e);if(null!==i){let t=await o(h,r);return t=t.filter((t=>void 0!==t)),a(i,t)}};return h(f)}async function Fi({fs:t,cache:e,dir:r,gitdir:n=P(r,".git"),ourOid:i,baseOid:s,theirOid:a,ourName:o="ours",baseName:c="base",theirName:f="theirs",dryRun:l=!1}){const h=ji({ref:i}),u=ji({ref:s}),d=ji({ref:a});return(await Li({fs:t,cache:e,dir:r,gitdir:n,trees:[h,u,d],map:async function(e,[r,i,s]){const a=ri(e);switch(`${await Zi(r,i)}-${await Zi(s,i)}`){case"false-false":return{mode:await i.mode(),path:a,oid:await i.oid(),type:await i.type()};case"false-true":return s?{mode:await s.mode(),path:a,oid:await s.oid(),type:await s.type()}:void 0;case"true-false":return r?{mode:await r.mode(),path:a,oid:await r.oid(),type:await r.type()}:void 0;case"true-true":if(r&&i&&s&&"blob"===await r.type()&&"blob"===await i.type()&&"blob"===await s.type())return async function({fs:t,gitdir:e,path:r,ours:n,base:i,theirs:s,ourName:a,theirName:o,baseName:c,format:f,markerSize:l,dryRun:h}){const u="blob",d=await i.mode()===await n.mode()?await s.mode():await n.mode();if(await n.oid()===await s.oid())return{mode:d,path:r,oid:await n.oid(),type:u};if(await n.oid()===await i.oid())return{mode:d,path:r,oid:await s.oid(),type:u};if(await s.oid()===await i.oid())return{mode:d,path:r,oid:await n.oid(),type:u};const{mergedText:p,cleanMerge:g}=Ci({ourContent:Buffer.from(await n.content()).toString("utf8"),baseContent:Buffer.from(await i.content()).toString("utf8"),theirContent:Buffer.from(await s.content()).toString("utf8"),ourName:a,theirName:o,baseName:c,format:f,markerSize:l});if(!g)throw new w;const m=await Bi({fs:t,gitdir:e,type:"blob",object:Buffer.from(p,"utf8"),dryRun:h});return{mode:d,path:r,oid:m,type:u}}({fs:t,gitdir:n,path:a,ours:r,base:i,theirs:s,ourName:o,baseName:c,theirName:f});throw new w}},reduce:async(e,r)=>{const i=r.filter(Boolean);if(e&&(!e||"tree"!==e.type||0!==i.length)){if(i.length>0){const r=new Gn(i).toObject(),s=await Bi({fs:t,gitdir:n,type:"tree",object:r,dryRun:l});e.oid=s}return e}}})).oid}async function Zi(t,e){return!(!t&&!e)&&(!(!t||e)||(!(t||!e)||("tree"!==await t.type()||"tree"!==await e.type())&&(await t.type()!==await e.type()||await t.mode()!==await e.mode()||await t.oid()!==await e.oid())))}var Gi=r(470),Hi=r.n(Gi);const qi=void 0===Hi().posix?Hi():Hi().posix;async function Wi(t){return new Promise(((e,r)=>setTimeout(e,t)))}async function Ki(t){const e={};let r="";const n=Xn.streamReader(t);let i=await n();for(;!0!==i;)null!==i&&(r+=i.toString("utf8")+"\n"),i=await n();const s=r.toString("utf8").split("\n");if(i=s.shift(),!i.startsWith("unpack "))throw new x('unpack ok" or "unpack [error message]',i);e.ok="unpack ok"===i,e.ok||(e.error=i.slice("unpack ".length)),e.refs={};for(const t of s){if(""===t.trim())continue;const r=t.slice(0,2),n=t.slice(3);let i=n.indexOf(" ");-1===i&&(i=n.length);const s=n.slice(0,i),a=n.slice(i+1);e.refs[s]={ok:"ok"===r,error:a}}return e}async function Yi(t){const{packetlines:e,packfile:r,progress:n}=Si.demux(t),i=[],s=[],a=[];let o=!1,c=!1;return new Promise(((t,f)=>{!async function(t,e){const r=xn(t);for(;;){const{value:t,done:n}=await r.next();if(t&&await e(t),n)break}r.return&&r.return()}(e,(e=>{const l=e.toString("utf8").trim();if(l.startsWith("shallow")){const t=l.slice(-41).trim();40!==t.length&&f(new p(t)),i.push(t)}else if(l.startsWith("unshallow")){const t=l.slice(-41).trim();40!==t.length&&f(new p(t)),s.push(t)}else if(l.startsWith("ACK")){const[,t,e]=l.split(" ");a.push({oid:t,status:e}),e||(c=!0)}else l.startsWith("NAK")&&(o=!0,c=!0);c&&t({shallows:i,unshallows:s,acks:a,nak:o,packfile:r,progress:n})}))}))}async function Xi(t){const e=Xn.streamReader(t);let r=!1,n=null;const i=[],s=[],a=[];let o,c;const f=[];let l=!1;for(;!r;){const t=await e();if(!0===t)break;if(null===t)continue;const[h,u,...d]=t.toString("utf8").trim().split(" ");switch(n||(n=d),h){case"want":i.push(u);break;case"have":s.push(u);break;case"shallow":a.push(u);break;case"deepen":o=parseInt(u);break;case"deepen-since":c=parseInt(u);break;case"deepen-not":f.push(u);break;case"deepen-relative":l=!0;break;case"done":r=!0}}return{capabilities:n,wants:i,haves:s,shallows:a,depth:o,since:c,exclude:f,relative:l,done:r}}async function Vi({capabilities:t=[],triplets:e=[]}){const r=[];let n=`\0 ${t.join(" ")}`;for(const t of e)r.push(Xn.encode(`${t.oldoid} ${t.oid} ${t.fullRef}${n}\n`)),n="";return r.push(Xn.flush()),r}function Ji({capabilities:t=[],wants:e=[],haves:r=[],shallows:n=[],depth:i=null,since:s=null,exclude:a=[]}){const o=[];e=[...new Set(e)];let c=` ${t.join(" ")}`;for(const t of e)o.push(Xn.encode(`want ${t}${c}\n`)),c="";for(const t of n)o.push(Xn.encode(`shallow ${t}\n`));null!==i&&o.push(Xn.encode(`deepen ${i}\n`)),null!==s&&o.push(Xn.encode(`deepen-since ${Math.floor(s.valueOf()/1e3)}\n`));for(const t of a)o.push(Xn.encode(`deepen-not ${t}\n`));o.push(Xn.flush());for(const t of r)o.push(Xn.encode(`have ${t}\n`));return o.push(Xn.encode("done\n")),o}})(),globalThis.git=n})();